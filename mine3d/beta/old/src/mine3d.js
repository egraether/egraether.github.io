if(!window.requestAnimationFrame)window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();glMatrixArrayType=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;
var vec3={create:function(a){var b=new glMatrixArrayType(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},add:function(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,
b,c){if(!c||a==c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var c=a[0],e=a[1],f=a[2],i=Math.sqrt(c*c+e*e+f*f);if(i){if(i==1)return b[0]=c,b[1]=e,b[2]=f,b}else return b[0]=0,b[1]=0,b[2]=0,b;i=1/i;b[0]=c*i;b[1]=e*i;b[2]=f*i;return b},cross:function(a,b,c){c||(c=a);var e=a[0],f=a[1],a=a[2],i=b[0],h=b[1],b=b[2];c[0]=f*b-a*h;c[1]=a*i-e*b;c[2]=e*h-f*i;return c},length:function(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)},
dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,b,c){c||(c=a);var e=a[0]-b[0],f=a[1]-b[1],a=a[2]-b[2],b=Math.sqrt(e*e+f*f+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=e*b;c[1]=f*b;c[2]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"}},mat3={create:function(a){var b=new glMatrixArrayType(9);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=
a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a==b){var c=a[1],e=a[2],f=a[5];a[1]=a[3];a[2]=a[6];a[3]=c;a[5]=a[7];a[6]=e;a[7]=f;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,
b){b||(b=mat4.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=0;b[4]=a[3];b[5]=a[4];b[6]=a[5];b[7]=0;b[8]=a[6];b[9]=a[7];b[10]=a[8];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},mat4={create:function(a){var b=new glMatrixArrayType(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],
b[14]=a[14],b[15]=a[15]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a==b){var c=a[1],e=a[2],f=a[3],i=a[6],h=a[7],n=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=
c;a[6]=a[9];a[7]=a[13];a[8]=e;a[9]=i;a[11]=a[14];a[12]=f;a[13]=h;a[14]=n;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},determinant:function(a){var b=a[0],c=a[1],e=a[2],f=a[3],i=a[4],h=a[5],n=a[6],m=a[7],l=a[8],o=a[9],r=a[10],u=a[11],s=a[12],v=a[13],w=a[14],a=a[15];return s*o*n*f-l*v*n*f-s*h*r*f+i*v*r*f+l*h*w*f-i*o*w*f-s*o*e*m+l*v*e*m+s*c*r*m-b*v*r*m-l*c*
w*m+b*o*w*m+s*h*e*u-i*v*e*u-s*c*n*u+b*v*n*u+i*c*w*u-b*h*w*u-l*h*e*a+i*o*e*a+l*c*n*a-b*o*n*a-i*c*r*a+b*h*r*a},inverse:function(a,b){b||(b=a);var c=a[0],e=a[1],f=a[2],i=a[3],h=a[4],n=a[5],m=a[6],l=a[7],o=a[8],r=a[9],u=a[10],s=a[11],v=a[12],w=a[13],z=a[14],H=a[15],B=c*n-e*h,G=c*m-f*h,I=c*l-i*h,J=e*m-f*n,K=e*l-i*n,x=f*l-i*m,A=o*w-r*v,y=o*z-u*v,L=o*H-s*v,C=r*z-u*w,p=r*H-s*w,Q=u*H-s*z,E=1/(B*Q-G*p+I*C+J*L-K*y+x*A);b[0]=(n*Q-m*p+l*C)*E;b[1]=(-e*Q+f*p-i*C)*E;b[2]=(w*x-z*K+H*J)*E;b[3]=(-r*x+u*K-s*J)*E;b[4]=
(-h*Q+m*L-l*y)*E;b[5]=(c*Q-f*L+i*y)*E;b[6]=(-v*x+z*I-H*G)*E;b[7]=(o*x-u*I+s*G)*E;b[8]=(h*p-n*L+l*A)*E;b[9]=(-c*p+e*L-i*A)*E;b[10]=(v*K-w*I+H*B)*E;b[11]=(-o*K+r*I-s*B)*E;b[12]=(-h*C+n*y-m*A)*E;b[13]=(c*C-e*y+f*A)*E;b[14]=(-v*J+w*G-z*B)*E;b[15]=(o*J-r*G+u*B)*E;return b}};mat4.toRotationMat=function(a,b){b||(b=mat4.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};
mat4.toMat3=function(a,b){b||(b=mat3.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b};mat4.toInverseMat3=function(a,b){var c=a[0],e=a[1],f=a[2],i=a[4],h=a[5],n=a[6],m=a[8],l=a[9],o=a[10],r=o*h-n*l,u=-o*i+n*m,s=l*i-h*m,v=c*r+e*u+f*s;if(!v)return null;v=1/v;b||(b=mat3.create());b[0]=r*v;b[1]=(-o*e+f*l)*v;b[2]=(n*e-f*h)*v;b[3]=u*v;b[4]=(o*c-f*m)*v;b[5]=(-n*c+f*i)*v;b[6]=s*v;b[7]=(-l*c+e*m)*v;b[8]=(h*c-e*i)*v;return b};
mat4.multiply=function(a,b,c){c||(c=a);var e=a[0],f=a[1],i=a[2],h=a[3],n=a[4],m=a[5],l=a[6],o=a[7],r=a[8],u=a[9],s=a[10],v=a[11],w=a[12],z=a[13],H=a[14],a=a[15],B=b[0],G=b[1],I=b[2],J=b[3],K=b[4],x=b[5],A=b[6],y=b[7],L=b[8],C=b[9],p=b[10],Q=b[11],E=b[12],d=b[13],N=b[14],b=b[15];c[0]=B*e+G*n+I*r+J*w;c[1]=B*f+G*m+I*u+J*z;c[2]=B*i+G*l+I*s+J*H;c[3]=B*h+G*o+I*v+J*a;c[4]=K*e+x*n+A*r+y*w;c[5]=K*f+x*m+A*u+y*z;c[6]=K*i+x*l+A*s+y*H;c[7]=K*h+x*o+A*v+y*a;c[8]=L*e+C*n+p*r+Q*w;c[9]=L*f+C*m+p*u+Q*z;c[10]=L*i+C*
l+p*s+Q*H;c[11]=L*h+C*o+p*v+Q*a;c[12]=E*e+d*n+N*r+b*w;c[13]=E*f+d*m+N*u+b*z;c[14]=E*i+d*l+N*s+b*H;c[15]=E*h+d*o+N*v+b*a;return c};mat4.multiplyVec3=function(a,b,c){c||(c=b);var e=b[0],f=b[1],b=b[2];c[0]=a[0]*e+a[4]*f+a[8]*b+a[12];c[1]=a[1]*e+a[5]*f+a[9]*b+a[13];c[2]=a[2]*e+a[6]*f+a[10]*b+a[14];return c};
mat4.multiplyVec4=function(a,b,c){c||(c=b);var e=b[0],f=b[1],i=b[2],b=b[3];c[0]=a[0]*e+a[4]*f+a[8]*i+a[12]*b;c[1]=a[1]*e+a[5]*f+a[9]*i+a[13]*b;c[2]=a[2]*e+a[6]*f+a[10]*i+a[14]*b;c[3]=a[3]*e+a[7]*f+a[11]*i+a[15]*b;return c};
mat4.translate=function(a,b,c){var e=b[0],f=b[1],b=b[2];if(!c||a==c)return a[12]=a[0]*e+a[4]*f+a[8]*b+a[12],a[13]=a[1]*e+a[5]*f+a[9]*b+a[13],a[14]=a[2]*e+a[6]*f+a[10]*b+a[14],a[15]=a[3]*e+a[7]*f+a[11]*b+a[15],a;var i=a[0],h=a[1],n=a[2],m=a[3],l=a[4],o=a[5],r=a[6],u=a[7],s=a[8],v=a[9],w=a[10],z=a[11];c[0]=i;c[1]=h;c[2]=n;c[3]=m;c[4]=l;c[5]=o;c[6]=r;c[7]=u;c[8]=s;c[9]=v;c[10]=w;c[11]=z;c[12]=i*e+l*f+s*b+a[12];c[13]=h*e+o*f+v*b+a[13];c[14]=n*e+r*f+w*b+a[14];c[15]=m*e+u*f+z*b+a[15];return c};
mat4.scale=function(a,b,c){var e=b[0],f=b[1],b=b[2];if(!c||a==c)return a[0]*=e,a[1]*=e,a[2]*=e,a[3]*=e,a[4]*=f,a[5]*=f,a[6]*=f,a[7]*=f,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*e;c[1]=a[1]*e;c[2]=a[2]*e;c[3]=a[3]*e;c[4]=a[4]*f;c[5]=a[5]*f;c[6]=a[6]*f;c[7]=a[7]*f;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};
mat4.rotate=function(a,b,c,e){var f=c[0],i=c[1],c=c[2],h=Math.sqrt(f*f+i*i+c*c);if(!h)return null;h!=1&&(h=1/h,f*=h,i*=h,c*=h);var n=Math.sin(b),m=Math.cos(b),l=1-m,b=a[0],h=a[1],o=a[2],r=a[3],u=a[4],s=a[5],v=a[6],w=a[7],z=a[8],H=a[9],B=a[10],G=a[11],I=f*f*l+m,J=i*f*l+c*n,K=c*f*l-i*n,x=f*i*l-c*n,A=i*i*l+m,y=c*i*l+f*n,L=f*c*l+i*n,f=i*c*l-f*n,i=c*c*l+m;e?a!=e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]):e=a;e[0]=b*I+u*J+z*K;e[1]=h*I+s*J+H*K;e[2]=o*I+v*J+B*K;e[3]=r*I+w*J+G*K;e[4]=b*x+u*A+z*y;e[5]=
h*x+s*A+H*y;e[6]=o*x+v*A+B*y;e[7]=r*x+w*A+G*y;e[8]=b*L+u*f+z*i;e[9]=h*L+s*f+H*i;e[10]=o*L+v*f+B*i;e[11]=r*L+w*f+G*i;return e};mat4.rotateX=function(a,b,c){var e=Math.sin(b),b=Math.cos(b),f=a[4],i=a[5],h=a[6],n=a[7],m=a[8],l=a[9],o=a[10],r=a[11];c?a!=c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=f*b+m*e;c[5]=i*b+l*e;c[6]=h*b+o*e;c[7]=n*b+r*e;c[8]=f*-e+m*b;c[9]=i*-e+l*b;c[10]=h*-e+o*b;c[11]=n*-e+r*b;return c};
mat4.rotateY=function(a,b,c){var e=Math.sin(b),b=Math.cos(b),f=a[0],i=a[1],h=a[2],n=a[3],m=a[8],l=a[9],o=a[10],r=a[11];c?a!=c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=f*b+m*-e;c[1]=i*b+l*-e;c[2]=h*b+o*-e;c[3]=n*b+r*-e;c[8]=f*e+m*b;c[9]=i*e+l*b;c[10]=h*e+o*b;c[11]=n*e+r*b;return c};
mat4.rotateZ=function(a,b,c){var e=Math.sin(b),b=Math.cos(b),f=a[0],i=a[1],h=a[2],n=a[3],m=a[4],l=a[5],o=a[6],r=a[7];c?a!=c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=f*b+m*e;c[1]=i*b+l*e;c[2]=h*b+o*e;c[3]=n*b+r*e;c[4]=f*-e+m*b;c[5]=i*-e+l*b;c[6]=h*-e+o*b;c[7]=n*-e+r*b;return c};
mat4.frustum=function(a,b,c,e,f,i,h){h||(h=mat4.create());var n=b-a,m=e-c,l=i-f;h[0]=f*2/n;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=f*2/m;h[6]=0;h[7]=0;h[8]=(b+a)/n;h[9]=(e+c)/m;h[10]=-(i+f)/l;h[11]=-1;h[12]=0;h[13]=0;h[14]=-(i*f*2)/l;h[15]=0;return h};mat4.perspective=function(a,b,c,e,f){a=c*Math.tan(a*Math.PI/360);b*=a;return mat4.frustum(-b,b,-a,a,c,e,f)};
mat4.ortho=function(a,b,c,e,f,i,h){h||(h=mat4.create());var n=b-a,m=e-c,l=i-f;h[0]=2/n;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/l;h[11]=0;h[12]=-(a+b)/n;h[13]=-(e+c)/m;h[14]=-(i+f)/l;h[15]=1;return h};
mat4.lookAt=function(a,b,c,e){e||(e=mat4.create());var f=a[0],i=a[1],a=a[2],h=c[0],n=c[1],m=c[2],c=b[1],l=b[2];if(f==b[0]&&i==c&&a==l)return mat4.identity(e);var o,r,u,s,c=f-b[0],l=i-b[1],b=a-b[2];s=1/Math.sqrt(c*c+l*l+b*b);c*=s;l*=s;b*=s;o=n*b-m*l;m=m*c-h*b;h=h*l-n*c;(s=Math.sqrt(o*o+m*m+h*h))?(s=1/s,o*=s,m*=s,h*=s):h=m=o=0;n=l*h-b*m;r=b*o-c*h;u=c*m-l*o;(s=Math.sqrt(n*n+r*r+u*u))?(s=1/s,n*=s,r*=s,u*=s):u=r=n=0;e[0]=o;e[1]=n;e[2]=c;e[3]=0;e[4]=m;e[5]=r;e[6]=l;e[7]=0;e[8]=h;e[9]=u;e[10]=b;e[11]=0;
e[12]=-(o*f+m*i+h*a);e[13]=-(n*f+r*i+u*a);e[14]=-(c*f+l*i+b*a);e[15]=1;return e};mat4.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"};
quat4={create:function(a){var b=new glMatrixArrayType(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},calculateW:function(a,b){var c=a[0],e=a[1],f=a[2];if(!b||a==b)return a[3]=-Math.sqrt(Math.abs(1-c*c-e*e-f*f)),a;b[0]=c;b[1]=e;b[2]=f;b[3]=-Math.sqrt(Math.abs(1-c*c-e*e-f*f));return b},inverse:function(a,b){if(!b||a==b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b},length:function(a){var b=
a[0],c=a[1],e=a[2],a=a[3];return Math.sqrt(b*b+c*c+e*e+a*a)},normalize:function(a,b){b||(b=a);var c=a[0],e=a[1],f=a[2],i=a[3],h=Math.sqrt(c*c+e*e+f*f+i*i);if(h==0)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;h=1/h;b[0]=c*h;b[1]=e*h;b[2]=f*h;b[3]=i*h;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],f=a[1],i=a[2],a=a[3],h=b[0],n=b[1],m=b[2],b=b[3];c[0]=e*b+a*h+f*m-i*n;c[1]=f*b+a*n+i*h-e*m;c[2]=i*b+a*m+e*n-f*h;c[3]=a*b-e*h-f*n-i*m;return c},multiplyVec3:function(a,b,c){c||(c=b);var e=b[0],f=b[1],i=b[2],
b=a[0],h=a[1],n=a[2],a=a[3],m=a*e+h*i-n*f,l=a*f+n*e-b*i,o=a*i+b*f-h*e,e=-b*e-h*f-n*i;c[0]=m*a+e*-b+l*-n-o*-h;c[1]=l*a+e*-h+o*-b-m*-n;c[2]=o*a+e*-n+m*-h-l*-b;return c},toMat3:function(a,b){b||(b=mat3.create());var c=a[0],e=a[1],f=a[2],i=a[3],h=c+c,n=e+e,m=f+f,l=c*h,o=c*n;c*=m;var r=e*n;e*=m;f*=m;h*=i;n*=i;i*=m;b[0]=1-(r+f);b[1]=o-i;b[2]=c+n;b[3]=o+i;b[4]=1-(l+f);b[5]=e-h;b[6]=c-n;b[7]=e+h;b[8]=1-(l+r);return b},toMat4:function(a,b){b||(b=mat4.create());var c=a[0],e=a[1],f=a[2],i=a[3],h=c+c,n=e+e,m=
f+f,l=c*h,o=c*n;c*=m;var r=e*n;e*=m;f*=m;h*=i;n*=i;i*=m;b[0]=1-(r+f);b[1]=o-i;b[2]=c+n;b[3]=0;b[4]=o+i;b[5]=1-(l+f);b[6]=e-h;b[7]=0;b[8]=c-n;b[9]=e+h;b[10]=1-(l+r);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},slerp:function(a,b,c,e){e||(e=a);var f=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(f)>=1)return e!=a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;var i=Math.acos(f),h=Math.sqrt(1-f*f);if(Math.abs(h)<0.001)return e[0]=a[0]*0.5+b[0]*0.5,e[1]=a[1]*0.5+b[1]*0.5,e[2]=a[2]*0.5+b[2]*0.5,
e[3]=a[3]*0.5+b[3]*0.5,e;f=Math.sin((1-c)*i)/h;c=Math.sin(c*i)/h;e[0]=a[0]*f+b[0]*c;e[1]=a[1]*f+b[1]*c;e[2]=a[2]*f+b[2]*c;e[3]=a[3]*f+b[3]*c;return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};var TWEEN=TWEEN||function(){var a,b,c,e,f=[];return{start:function(a){c=setInterval(this.update,1E3/(a||60))},stop:function(){clearInterval(c)},add:function(a){f.push(a)},getAll:function(){return f},removeAll:function(){f=[]},remove:function(b){a=f.indexOf(b);a!==-1&&f.splice(a,1)},update:function(){a=0;b=f.length;for(e=(new Date).getTime();a<b;)f[a].update(e)?a++:(f.splice(a,1),b--)}}}();
TWEEN.Tween=function(a){var b={},c={},e={},f=1E3,i=0,h=null,n=TWEEN.Easing.Linear.EaseNone,m=null,l=null,o=null;this.to=function(b,c){c!==null&&(f=c);for(var h in b)a[h]!==null&&(e[h]=b[h]);return this};this.start=function(){TWEEN.add(this);h=(new Date).getTime()+i;for(var f in e)a[f]!==null&&(b[f]=a[f],c[f]=e[f]-a[f]);return this};this.stop=function(){TWEEN.remove(this);return this};this.delay=function(a){i=a;return this};this.easing=function(a){n=a;return this};this.chain=function(a){m=a};this.onUpdate=
function(a){l=a;return this};this.onComplete=function(a){o=a;return this};this.update=function(e){var i,s;if(e<h)return true;e=(e-h)/f;e=e>1?1:e;s=n(e);for(i in c)a[i]=b[i]+c[i]*s;l!==null&&l.call(a,s);return e==1?(o!==null&&o.call(a),m!==null&&m.start(),false):true}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};TWEEN.Easing.Linear.EaseNone=function(a){return a};
TWEEN.Easing.Quadratic.EaseIn=function(a){return a*a};TWEEN.Easing.Quadratic.EaseOut=function(a){return-a*(a-2)};TWEEN.Easing.Quadratic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(a){return a*a*a};TWEEN.Easing.Cubic.EaseOut=function(a){return--a*a*a+1};TWEEN.Easing.Cubic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)};TWEEN.Easing.Quartic.EaseIn=function(a){return a*a*a*a};
TWEEN.Easing.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};TWEEN.Easing.Quartic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};TWEEN.Easing.Quintic.EaseIn=function(a){return a*a*a*a*a};TWEEN.Easing.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};TWEEN.Easing.Quintic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};
TWEEN.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};TWEEN.Easing.Exponential.EaseIn=function(a){return a==0?0:Math.pow(2,10*(a-1))};TWEEN.Easing.Exponential.EaseOut=function(a){return a==1?1:-Math.pow(2,-10*a)+1};TWEEN.Easing.Exponential.EaseInOut=function(a){return a==0?0:a==1?1:(a*=2)<1?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};
TWEEN.Easing.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};TWEEN.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};TWEEN.Easing.Circular.EaseInOut=function(a){return(a/=0.5)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};TWEEN.Easing.Elastic.EaseIn=function(a){var b,c=0.1,e=0.4;if(a==0)return 0;if(a==1)return 1;e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/e))};
TWEEN.Easing.Elastic.EaseOut=function(a){var b,c=0.1,e=0.4;if(a==0)return 0;if(a==1)return 1;e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/e)+1};TWEEN.Easing.Elastic.EaseInOut=function(a){var b,c=0.1,e=0.4;if(a==0)return 0;if(a==1)return 1;e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return(a*=2)<1?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/e):c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/e)*0.5+1};
TWEEN.Easing.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};TWEEN.Easing.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};TWEEN.Easing.Back.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};TWEEN.Easing.Bounce.EaseIn=function(a){return 1-TWEEN.Easing.Bounce.EaseOut(1-a)};
TWEEN.Easing.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};TWEEN.Easing.Bounce.EaseInOut=function(a){return a<0.5?TWEEN.Easing.Bounce.EaseIn(a*2)*0.5:TWEEN.Easing.Bounce.EaseOut(a*2-1)*0.5+0.5};(function(a,b){function c(a,j,g){if(g===b&&a.nodeType===1)if(g="data-"+j.replace(Ra,"-$1").toLowerCase(),g=a.getAttribute(g),typeof g==="string"){try{g=g==="true"?true:g==="false"?false:g==="null"?null:!d.isNaN(g)?parseFloat(g):Sa.test(g)?d.parseJSON(g):g}catch(q){}d.data(a,j,g)}else g=b;return g}function e(a){for(var b in a)if(b!=="toJSON")return false;return true}function f(a,j,g){var q=j+"defer",c=j+"queue",t=j+"mark",e=d.data(a,q,b,true);e&&(g==="queue"||!d.data(a,c,b,true))&&(g==="mark"||!d.data(a,
t,b,true))&&setTimeout(function(){!d.data(a,c,b,true)&&!d.data(a,t,b,true)&&(d.removeData(a,q,true),e.resolve())},0)}function i(){return false}function h(){return true}function n(a,j,g){var q=d.extend({},g[0]);q.type=a;q.originalEvent={};q.liveFired=b;d.event.handle.call(j,q);q.isDefaultPrevented()&&g[0].preventDefault()}function m(a){var b,g,q,c,t,e,f,h,i,n,p,l=[];c=[];t=d._data(this,"events");if(!(a.liveFired===this||!t||!t.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(p=RegExp("(^|\\.)"+
a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var o=t.live.slice(0);for(f=0;f<o.length;f++)t=o[f],t.origType.replace(ha,"")===a.type?c.push(t.selector):o.splice(f--,1);c=d(a.target).closest(c,a.currentTarget);for(h=0,i=c.length;h<i;h++){n=c[h];for(f=0;f<o.length;f++)if(t=o[f],n.selector===t.selector&&(!p||p.test(t.namespace))&&!n.elem.disabled){e=n.elem;q=null;if(t.preType==="mouseenter"||t.preType==="mouseleave")a.type=t.preType,(q=d(a.relatedTarget).closest(t.selector)[0])&&
d.contains(e,q)&&(q=e);(!q||q!==e)&&l.push({elem:e,handleObj:t,level:n.level})}}for(h=0,i=l.length;h<i;h++){c=l[h];if(g&&c.level>g)break;a.currentTarget=c.elem;a.data=c.handleObj.data;a.handleObj=c.handleObj;p=c.handleObj.origHandler.apply(c.elem,arguments);if(p===false||a.isPropagationStopped())if(g=c.level,p===false&&(b=false),a.isImmediatePropagationStopped())break}return b}}function l(a,b){return(a&&a!=="*"?a+".":"")+b.replace(Ta,"`").replace(Ua,"&")}function o(a,b,g){b=b||0;if(d.isFunction(b))return d.grep(a,
function(a,k){return!!b.call(a,k,a)===g});else if(b.nodeType)return d.grep(a,function(a){return a===b===g});else if(typeof b==="string"){var q=d.grep(a,function(a){return a.nodeType===1});if(Va.test(b))return d.filter(b,q,!g);else b=d.filter(b,q)}return d.grep(a,function(a){return d.inArray(a,b)>=0===g})}function r(a,b){if(b.nodeType===1&&d.hasData(a)){var g=d.expando,q=d.data(a),c=d.data(b,q);if(q=q[g]){var t=q.events,c=c[g]=d.extend({},q);if(t){delete c.handle;c.events={};for(var e in t){g=0;for(q=
t[e].length;g<q;g++)d.event.add(b,e+(t[e][g].namespace?".":"")+t[e][g].namespace,t[e][g],t[e][g].data)}}}}}function u(a,b){var g;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);g=b.nodeName.toLowerCase();if(g==="object")b.outerHTML=a.outerHTML;else if(g==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(g==="option")b.selected=a.defaultSelected;else if(g===
"input"||g==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(d.expando)}}function s(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function v(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function w(a){d.nodeName(a,"input")?v(a):"getElementsByTagName"in a&&d.grep(a.getElementsByTagName("input"),v)}function z(a,b){b.src?d.ajax({url:b.src,async:false,dataType:"script"}):d.globalEval((b.text||b.textContent||
b.innerHTML||"").replace(Wa,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function H(a,b,g){var q=b==="width"?a.offsetWidth:a.offsetHeight,c=b==="width"?Xa:Ya;if(q>0)return g!=="border"&&d.each(c,function(){g||(q-=parseFloat(d.css(a,"padding"+this))||0);g==="margin"?q+=parseFloat(d.css(a,g+this))||0:q-=parseFloat(d.css(a,"border"+this+"Width"))||0}),q+"px";q=V(a,b,b);if(q<0||q==null)q=a.style[b]||0;q=parseFloat(q)||0;g&&d.each(c,function(){q+=parseFloat(d.css(a,"padding"+this))||0;g!=="padding"&&
(q+=parseFloat(d.css(a,"border"+this+"Width"))||0);g==="margin"&&(q+=parseFloat(d.css(a,g+this))||0)});return q+"px"}function B(a){return function(b,g){var j;typeof b!=="string"&&(g=b,b="*");if(d.isFunction(g))for(var q=b.toLowerCase().split(sa),c=0,e=q.length,O,f;c<e;c++)O=q[c],(f=/^\+/.test(O))&&(O=O.substr(1)||"*"),j=a[O]=a[O]||[],O=j,O[f?"unshift":"push"](g)}}function G(a,j,d,q,c,e){c=c||j.dataTypes[0];e=e||{};e[c]=true;for(var c=a[c],O=0,f=c?c.length:0,h=a===ia,i;O<f&&(h||!i);O++)i=c[O](j,d,
q),typeof i==="string"&&(!h||e[i]?i=b:(j.dataTypes.unshift(i),i=G(a,j,d,q,i,e)));if((h||!i)&&!e["*"])i=G(a,j,d,q,"*",e);return i}function I(a,j){var g,q,c=d.ajaxSettings.flatOptions||{};for(g in j)j[g]!==b&&((c[g]?a:q||(q={}))[g]=j[g]);q&&d.extend(true,a,q)}function J(a,b,g,q){if(d.isArray(b))d.each(b,function(b,j){g||Za.test(a)?q(a,j):J(a+"["+(typeof j==="object"||d.isArray(j)?b:"")+"]",j,g,q)});else if(!g&&b!=null&&typeof b==="object")for(var c in b)J(a+"["+c+"]",b[c],g,q);else q(a,b)}function K(){try{return new a.XMLHttpRequest}catch(k){}}
function x(){setTimeout(A,0);return ca=d.now()}function A(){ca=b}function y(a,b){var g={};d.each(ta.concat.apply([],ta.slice(0,b)),function(){g[this]=a});return g}function L(a){if(!ja[a]){var b=p.body,g=d("<"+a+">").appendTo(b),q=g.css("display");g.remove();if(q==="none"||q===""){if(!R)R=p.createElement("iframe"),R.frameBorder=R.width=R.height=0;b.appendChild(R);if(!W||!R.createElement)W=(R.contentWindow||R.contentDocument).document,W.write((p.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),
W.close();g=W.createElement(a);W.body.appendChild(g);q=d.css(g,"display");b.removeChild(R)}ja[a]=q}return ja[a]}function C(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var p=a.document,Q=a.navigator,E=a.location,d=function(){function k(){if(!j.isReady){try{p.documentElement.doScroll("left")}catch(a){setTimeout(k,1);return}j.ready()}}var j=function(a,k){return new j.fn.init(a,k,c)},d=a.jQuery,q=a.$,c,e=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,h=/^\s+/,i=/\s+$/,
n=/\d/,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,l=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,C=/(webkit)[ \/]([\w.]+)/,u=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,$a=/-([a-z]|[0-9])/ig,D=/^-ms-/,ab=function(a,k){return(k+"").toUpperCase()},Z=Q.userAgent,da,X,bb=Object.prototype.toString,ka=Object.prototype.hasOwnProperty,la=Array.prototype.push,w=Array.prototype.slice,
y=String.prototype.trim,A=Array.prototype.indexOf,ua={};j.fn=j.prototype={constructor:j,init:function(a,k,d){var g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!k&&p.body)return this.context=p,this[0]=p.body,this.selector=a,this.length=1,this;if(typeof a==="string")if((g=a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?[null,a,null]:e.exec(a))&&(g[1]||!k))if(g[1])return d=(k=k instanceof j?k[0]:k)?k.ownerDocument||k:p,(a=o.exec(a))?j.isPlainObject(k)?
(a=[p.createElement(a[1])],j.fn.attr.call(a,k,true)):a=[d.createElement(a[1])]:(a=j.buildFragment([g[1]],[d]),a=(a.cacheable?j.clone(a.fragment):a.fragment).childNodes),j.merge(this,a);else{if((k=p.getElementById(g[2]))&&k.parentNode){if(k.id!==g[2])return d.find(a);this.length=1;this[0]=k}this.context=p;this.selector=a;return this}else return!k||k.jquery?(k||d).find(a):this.constructor(k).find(a);else if(j.isFunction(a))return d.ready(a);if(a.selector!==b)this.selector=a.selector,this.context=a.context;
return j.makeArray(a,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return w.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,k,b){var d=this.constructor();j.isArray(a)?la.apply(d,a):j.merge(d,a);d.prevObject=this;d.context=this.context;if(k==="find")d.selector=this.selector+(this.selector?" ":"")+b;else if(k)d.selector=this.selector+"."+k+"("+b+")";return d},each:function(a,k){return j.each(this,
a,k)},ready:function(a){j.bindReady();da.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(w.apply(this,arguments),"slice",w.call(arguments).join(","))},map:function(a){return this.pushStack(j.map(this,function(k,b){return a.call(k,b,k)}))},end:function(){return this.prevObject||this.constructor(null)},push:la,sort:[].sort,splice:[].splice};j.fn.init.prototype=
j.fn;j.extend=j.fn.extend=function(){var a,k,d,g,q,c=arguments[0]||{},F=1,e=arguments.length,t=false;typeof c==="boolean"&&(t=c,c=arguments[1]||{},F=2);typeof c!=="object"&&!j.isFunction(c)&&(c={});e===F&&(c=this,--F);for(;F<e;F++)if((a=arguments[F])!=null)for(k in a)d=c[k],g=a[k],c!==g&&(t&&g&&(j.isPlainObject(g)||(q=j.isArray(g)))?(q?(q=false,d=d&&j.isArray(d)?d:[]):d=d&&j.isPlainObject(d)?d:{},c[k]=j.extend(t,d,g)):g!==b&&(c[k]=g));return c};j.extend({noConflict:function(k){if(a.$===j)a.$=q;if(k&&
a.jQuery===j)a.jQuery=d;return j},isReady:false,readyWait:1,holdReady:function(a){a?j.readyWait++:j.ready(true)},ready:function(a){if(a===true&&!--j.readyWait||a!==true&&!j.isReady){if(!p.body)return setTimeout(j.ready,1);j.isReady=true;a!==true&&--j.readyWait>0||(da.resolveWith(p,[j]),j.fn.trigger&&j(p).trigger("ready").unbind("ready"))}},bindReady:function(){if(!da){da=j._Deferred();if(p.readyState==="complete")return setTimeout(j.ready,1);if(p.addEventListener)p.addEventListener("DOMContentLoaded",
X,false),a.addEventListener("load",j.ready,false);else if(p.attachEvent){p.attachEvent("onreadystatechange",X);a.attachEvent("onload",j.ready);var b=false;try{b=a.frameElement==null}catch(d){}p.documentElement.doScroll&&b&&k()}}},isFunction:function(a){return j.type(a)==="function"},isArray:Array.isArray||function(a){return j.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!n.test(a)||isNaN(a)},type:function(a){return a==
null?String(a):ua[bb.call(a)]||"object"},isPlainObject:function(a){if(!a||j.type(a)!=="object"||a.nodeType||j.isWindow(a))return false;try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return false}catch(k){return false}for(var d in a);return d===b||ka.call(a,d)},isEmptyObject:function(a){for(var k in a)return false;return true},error:function(a){throw a;},parseJSON:function(k){if(typeof k!=="string"||!k)return null;k=j.trim(k);if(a.JSON&&a.JSON.parse)return a.JSON.parse(k);
if(l.test(k.replace(m,"@").replace(r,"]").replace(s,"")))return(new Function("return "+k))();j.error("Invalid JSON: "+k)},parseXML:function(k){var d,g;try{a.DOMParser?(g=new DOMParser,d=g.parseFromString(k,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(k))}catch(q){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&j.error("Invalid XML: "+k);return d},noop:function(){},globalEval:function(k){k&&f.test(k)&&(a.execScript||function(k){a.eval.call(a,
k)})(k)},camelCase:function(a){return a.replace(D,"ms-").replace($a,ab)},nodeName:function(a,k){return a.nodeName&&a.nodeName.toUpperCase()===k.toUpperCase()},each:function(a,k,d){var g,q=0,c=a.length,F=c===b||j.isFunction(a);if(d)if(F)for(g in a){if(k.apply(a[g],d)===false)break}else for(;q<c;){if(k.apply(a[q++],d)===false)break}else if(F)for(g in a){if(k.call(a[g],g,a[g])===false)break}else for(;q<c;)if(k.call(a[q],q,a[q++])===false)break;return a},trim:y?function(a){return a==null?"":y.call(a)}:
function(a){return a==null?"":a.toString().replace(h,"").replace(i,"")},makeArray:function(a,k){var b=k||[];if(a!=null){var d=j.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||j.isWindow(a)?la.call(b,a):j.merge(b,a)}return b},inArray:function(a,k){if(!k)return-1;if(A)return A.call(k,a);for(var b=0,j=k.length;b<j;b++)if(k[b]===a)return b;return-1},merge:function(a,k){var j=a.length,d=0;if(typeof k.length==="number")for(var g=k.length;d<g;d++)a[j++]=k[d];else for(;k[d]!==b;)a[j++]=
k[d++];a.length=j;return a},grep:function(a,k,b){for(var j=[],d,b=!!b,g=0,q=a.length;g<q;g++)d=!!k(a[g],g),b!==d&&j.push(a[g]);return j},map:function(a,k,d){var g,q,c=[],F=0,e=a.length;if(a instanceof j||e!==b&&typeof e==="number"&&(e>0&&a[0]&&a[e-1]||e===0||j.isArray(a)))for(;F<e;F++)g=k(a[F],F,d),g!=null&&(c[c.length]=g);else for(q in a)g=k(a[q],q,d),g!=null&&(c[c.length]=g);return c.concat.apply([],c)},guid:1,proxy:function(a,k){if(typeof k==="string")var d=a[k],k=a,a=d;if(!j.isFunction(a))return b;
var g=w.call(arguments,2),d=function(){return a.apply(k,g.concat(w.call(arguments)))};d.guid=a.guid=a.guid||d.guid||j.guid++;return d},access:function(a,k,d,g,q,c){var F=a.length;if(typeof k==="object"){for(var e in k)j.access(a,e,k[e],g,q,d);return a}if(d!==b){g=!c&&g&&j.isFunction(d);for(e=0;e<F;e++)q(a[e],k,g?d.call(a[e],e,q(a[e],k)):d,c);return a}return F?q(a[0],k):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=C.exec(a)||u.exec(a)||v.exec(a)||a.indexOf("compatible")<
0&&x.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(k,b){return new a.fn.init(k,b)}j.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(b,d){d&&d instanceof j&&!(d instanceof a)&&(d=a(d));return j.fn.init.call(this,b,d,k)};a.fn.init.prototype=a.fn;var k=a(p);return a},browser:{}});j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,k){ua["[object "+k+"]"]=k.toLowerCase()});
Z=j.uaMatch(Z);if(Z.browser)j.browser[Z.browser]=true,j.browser.version=Z.version;if(j.browser.webkit)j.browser.safari=true;f.test("\u00a0")&&(h=/^[\s\xA0]+/,i=/[\s\xA0]+$/);c=j(p);p.addEventListener?X=function(){p.removeEventListener("DOMContentLoaded",X,false);j.ready()}:p.attachEvent&&(X=function(){p.readyState==="complete"&&(p.detachEvent("onreadystatechange",X),j.ready())});return j}(),N="done fail isResolved isRejected promise then always pipe".split(" "),va=[].slice;d.extend({_Deferred:function(){var a=
[],b,g,q,c={done:function(){if(!q){var g=arguments,e,f,h,i,n;b&&(n=b,b=0);for(e=0,f=g.length;e<f;e++)h=g[e],i=d.type(h),i==="array"?c.done.apply(c,h):i==="function"&&a.push(h);n&&c.resolveWith(n[0],n[1])}return this},resolveWith:function(d,c){if(!q&&!b&&!g){c=c||[];g=1;try{for(;a[0];)a.shift().apply(d,c)}finally{b=[d,c],g=0}}return this},resolve:function(){c.resolveWith(this,arguments);return this},isResolved:function(){return!(!g&&!b)},cancel:function(){q=1;a=[];return this}};return c},Deferred:function(a){var b=
d._Deferred(),g=d._Deferred(),c;d.extend(b,{then:function(a,k){b.done(a).fail(k);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,pipe:function(a,k){return d.Deferred(function(g){d.each({done:[a,"resolve"],fail:[k,"reject"]},function(a,k){var c=k[0],q=k[1],e;if(d.isFunction(c))b[a](function(){if((e=c.apply(this,arguments))&&d.isFunction(e.promise))e.promise().then(g.resolve,g.reject);
else g[q+"With"](this===b?g:this,[e])});else b[a](g[q])})}).promise()},promise:function(a){if(a==null){if(c)return c;c=a={}}for(var k=N.length;k--;)a[N[k]]=b[N[k]];return a}});b.done(g.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(a){return function(k){g[a]=arguments.length>1?va.call(arguments,0):k;--t||f.resolveWith(f,va.call(g,0))}}var g=arguments,c=0,e=g.length,t=e,f=e<=1&&a&&d.isFunction(a.promise)?a:d.Deferred();if(e>1){for(;c<e;c++)g[c]&&d.isFunction(g[c].promise)?
g[c].promise().then(b(c),f.reject):--t;t||f.resolveWith(f,g)}else f!==a&&f.resolveWith(f,e?[a]:[]);return f.promise()}});d.support=function(){var a=p.createElement("div"),b=p.documentElement,g,c,e,t,f,h;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";g=a.getElementsByTagName("*");c=a.getElementsByTagName("a")[0];if(!g||!g.length||!c)return{};e=p.createElement("select");t=e.appendChild(p.createElement("option"));
g=a.getElementsByTagName("input")[0];f={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:c.getAttribute("href")==="/a",opacity:/^0.55$/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:g.value==="on",optSelected:t.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,
inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};g.checked=true;f.noCloneChecked=g.cloneNode(true).checked;e.disabled=true;f.optDisabled=!t.disabled;try{delete a.test}catch(i){f.deleteExpando=false}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){f.noCloneEvent=false}),a.cloneNode(true).fireEvent("onclick"));g=p.createElement("input");g.value="t";g.setAttribute("type","radio");f.radioValue=g.value==="t";g.setAttribute("checked","checked");
a.appendChild(g);c=p.createDocumentFragment();c.appendChild(a.firstChild);f.checkClone=c.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";e=p.getElementsByTagName("body")[0];c=p.createElement(e?"div":"body");t={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&d.extend(t,{position:"absolute",left:"-1000px",top:"-1000px"});for(h in t)c.style[h]=t[h];c.appendChild(a);b=e||b;b.insertBefore(c,b.firstChild);f.appendChecked=
g.checked;f.boxModel=a.offsetWidth===2;if("zoom"in a.style)a.style.display="inline",a.style.zoom=1,f.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",f.shrinkWrapBlocks=a.offsetWidth!==2;a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";e=a.getElementsByTagName("td");g=e[0].offsetHeight===0;e[0].style.display="";e[1].style.display="none";f.reliableHiddenOffsets=g&&e[0].offsetHeight===0;a.innerHTML=
"";if(p.defaultView&&p.defaultView.getComputedStyle)g=p.createElement("div"),g.style.width="0",g.style.marginRight="0",a.appendChild(g),f.reliableMarginRight=(parseInt((p.defaultView.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0)===0;c.innerHTML="";b.removeChild(c);if(a.attachEvent)for(h in{submit:1,change:1,focusin:1})b="on"+h,g=b in a,g||(a.setAttribute(b,"return;"),g=typeof a[b]==="function"),f[h+"Bubbles"]=g;c=c=e=t=e=g=a=g=null;return f}();d.boxModel=d.support.boxModel;var Sa=
/^(?:\{.*\}|\[.*\])$/,Ra=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!e(a)},data:function(a,j,g,c){if(d.acceptData(a)){var e=d.expando,t=typeof j==="string",f=a.nodeType,h=f?d.cache:a,i=f?a[d.expando]:a[d.expando]&&d.expando;if(i&&(!c||!i||!h[i]||h[i][e])||!(t&&g===b)){if(!i)f?a[d.expando]=
i=++d.uuid:i=d.expando;if(!h[i]&&(h[i]={},!f))h[i].toJSON=d.noop;if(typeof j==="object"||typeof j==="function")c?h[i][e]=d.extend(h[i][e],j):h[i]=d.extend(h[i],j);a=h[i];c&&(a[e]||(a[e]={}),a=a[e]);g!==b&&(a[d.camelCase(j)]=g);if(j==="events"&&!a[j])return a[e]&&a[e].events;t?(g=a[j],g==null&&(g=a[d.camelCase(j)])):g=a;return g}}},removeData:function(a,b,g){if(d.acceptData(a)){var c,F=d.expando,t=a.nodeType,f=t?d.cache:a,h=t?a[d.expando]:d.expando;if(f[h]){if(b&&(c=g?f[h][F]:f[h]))if(c[b]||(b=d.camelCase(b)),
delete c[b],!e(c))return;if(g&&(delete f[h][F],!e(f[h])))return;b=f[h][F];d.support.deleteExpando||!f.setInterval?delete f[h]:f[h]=null;if(b){f[h]={};if(!t)f[h].toJSON=d.noop;f[h][F]=b}else t&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):a[d.expando]=null)}}},_data:function(a,b,g){return d.data(a,b,g,true)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});
d.fn.extend({data:function(a,j){var g=null;if(typeof a==="undefined"){if(this.length&&(g=d.data(this[0]),this[0].nodeType===1))for(var q=this[0].attributes,e,t=0,f=q.length;t<f;t++)e=q[t].name,e.indexOf("data-")===0&&(e=d.camelCase(e.substring(5)),c(this[0],e,g[e]));return g}else if(typeof a==="object")return this.each(function(){d.data(this,a)});var h=a.split(".");h[1]=h[1]?"."+h[1]:"";return j===b?(g=this.triggerHandler("getData"+h[1]+"!",[h[0]]),g===b&&this.length&&(g=d.data(this[0],a),g=c(this[0],
a,g)),g===b&&h[1]?this.data(h[0]):g):this.each(function(){var b=d(this),g=[h[0],j];b.triggerHandler("setData"+h[1]+"!",g);d.data(this,a,j);b.triggerHandler("changeData"+h[1]+"!",g)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({_mark:function(a,j){a&&(j=(j||"fx")+"mark",d.data(a,j,(d.data(a,j,b,true)||0)+1,true))},_unmark:function(a,j,g){a!==true&&(g=j,j=a,a=false);if(j){var g=g||"fx",c=g+"mark";(a=a?0:(d.data(j,c,b,true)||1)-1)?d.data(j,c,a,true):(d.removeData(j,
c,true),f(j,g,"mark"))}},queue:function(a,j,g){if(a){var j=(j||"fx")+"queue",c=d.data(a,j,b,true);g&&(!c||d.isArray(g)?c=d.data(a,j,d.makeArray(g),true):c.push(g));return c||[]}},dequeue:function(a,b){var b=b||"fx",g=d.queue(a,b),c=g.shift();c==="inprogress"&&(c=g.shift());c&&(b==="fx"&&g.unshift("inprogress"),c.call(a,function(){d.dequeue(a,b)}));g.length||(d.removeData(a,b+"queue",true),f(a,b,"queue"))}});d.fn.extend({queue:function(a,j){typeof a!=="string"&&(j=a,a="fx");return j===b?d.queue(this[0],
a):this.each(function(){var b=d.queue(this,a,j);a==="fx"&&b[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var g=this;setTimeout(function(){d.dequeue(g,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function j(){--t||g.resolveWith(c,[c])}typeof a!=="string"&&(a=b);var a=a||"fx",g=d.Deferred(),c=this,e=c.length,t=
1,f=a+"defer",h=a+"queue";a+="mark";for(var i;e--;)if(i=d.data(c[e],f,b,true)||(d.data(c[e],h,b,true)||d.data(c[e],a,b,true))&&d.data(c[e],f,d._Deferred(),true))t++,i.done(j);j();return g.promise()}});var wa=/[\n\t\r]/g,ma=/\s+/,cb=/\r/g,db=/^(?:button|input)$/i,eb=/^(?:button|input|object|select|textarea)$/i,fb=/^a(?:rea)?$/i,xa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,P,ya;d.fn.extend({attr:function(a,b){return d.access(this,
a,b,true,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,b){return d.access(this,a,b,true,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(d){}})},addClass:function(a){var b,g,c,e,t,f,h;if(d.isFunction(a))return this.each(function(b){d(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==="string"){b=a.split(ma);for(g=0,c=this.length;g<c;g++)if(e=this[g],e.nodeType===1)if(!e.className&&
b.length===1)e.className=a;else{t=" "+e.className+" ";for(f=0,h=b.length;f<h;f++)~t.indexOf(" "+b[f]+" ")||(t+=b[f]+" ");e.className=d.trim(t)}}return this},removeClass:function(a){var j,g,c,e,t,f,h;if(d.isFunction(a))return this.each(function(b){d(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==="string"||a===b){j=(a||"").split(ma);for(g=0,c=this.length;g<c;g++)if(e=this[g],e.nodeType===1&&e.className)if(a){t=(" "+e.className+" ").replace(wa," ");for(f=0,h=j.length;f<h;f++)t=t.replace(" "+
j[f]+" "," ");e.className=d.trim(t)}else e.className=""}return this},toggleClass:function(a,b){var g=typeof a,c=typeof b==="boolean";return d.isFunction(a)?this.each(function(g){d(this).toggleClass(a.call(this,g,this.className,b),b)}):this.each(function(){if(g==="string")for(var e,t=0,f=d(this),h=b,i=a.split(ma);e=i[t++];)h=c?h:!f.hasClass(e),f[h?"addClass":"removeClass"](e);else if(g==="undefined"||g==="boolean")this.className&&d._data(this,"__className__",this.className),this.className=this.className||
a===false?"":d._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,d=this.length;b<d;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(wa," ").indexOf(a)>-1)return true;return false},val:function(a){var j,g,c=this[0];if(!arguments.length){if(c){if((j=d.valHooks[c.nodeName.toLowerCase()]||d.valHooks[c.type])&&"get"in j&&(g=j.get(c,"value"))!==b)return g;g=c.value;return typeof g==="string"?g.replace(cb,""):g==null?"":g}return b}var e=d.isFunction(a);return this.each(function(g){var c=
d(this);if(this.nodeType===1&&(g=e?a.call(this,g,c.val()):a,g==null?g="":typeof g==="number"?g+="":d.isArray(g)&&(g=d.map(g,function(a){return a==null?"":a+""})),j=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!j||!("set"in j)||j.set(this,g,"value")===b))this.value=g})}});d.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,g=a.selectedIndex,c=[],e=a.options,a=a.type==="select-one";if(g<0)return null;
for(var f=a?g:0,h=a?g+1:e.length;f<h;f++)if(b=e[f],b.selected&&(d.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!d.nodeName(b.parentNode,"optgroup"))){b=d(b).val();if(a)return b;c.push(b)}return a&&!c.length&&e.length?d(e[g]).val():c},set:function(a,b){var g=d.makeArray(b);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),g)>=0});if(!g.length)a.selectedIndex=-1;return g}}},attrFn:{val:true,css:true,html:true,text:true,data:true,
width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,j,g,c){var e=a.nodeType;if(!a||e===3||e===8||e===2)return b;if(c&&j in d.attrFn)return d(a)[j](g);if(!("getAttribute"in a))return d.prop(a,j,g);var f,h;if(c=e!==1||!d.isXMLDoc(a))j=d.attrFix[j]||j,(h=d.attrHooks[j])||(xa.test(j)?h=ya:P&&(h=P));return g!==b?g===null?(d.removeAttr(a,j),b):h&&"set"in h&&c&&(f=h.set(a,g,j))!==b?f:(a.setAttribute(j,""+g),g):h&&"get"in h&&c&&(f=h.get(a,j))!==null?f:(f=a.getAttribute(j),f===
null?b:f)},removeAttr:function(a,b){var g;if(a.nodeType===1&&(b=d.attrFix[b]||b,d.attr(a,b,""),a.removeAttribute(b),xa.test(b)&&(g=d.propFix[b]||b)in a))a[g]=false},attrHooks:{type:{set:function(a,b){if(db.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&b==="radio"&&d.nodeName(a,"input")){var g=a.value;a.setAttribute("type",b);if(g)a.value=g;return b}}},value:{get:function(a,b){return P&&d.nodeName(a,"button")?P.get(a,b):b in a?a.value:null},
set:function(a,b,g){if(P&&d.nodeName(a,"button"))return P.set(a,b,g);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,j,g){var c=a.nodeType;if(!a||c===3||c===8||c===2)return b;var e,f;if(c!==1||!d.isXMLDoc(a))j=d.propFix[j]||j,f=d.propHooks[j];return g!==
b?f&&"set"in f&&(e=f.set(a,g,j))!==b?e:a[j]=g:f&&"get"in f&&(e=f.get(a,j))!==null?e:a[j]},propHooks:{tabIndex:{get:function(a){var d=a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):eb.test(a.nodeName)||fb.test(a.nodeName)&&a.href?0:b}}}});d.attrHooks.tabIndex=d.propHooks.tabIndex;ya={get:function(a,j){var g;return d.prop(a,j)===true||(g=a.getAttributeNode(j))&&g.nodeValue!==false?j.toLowerCase():b},set:function(a,b,g){b===false?d.removeAttr(a,g):(b=d.propFix[g]||g,b in a&&
(a[b]=true),a.setAttribute(g,g.toLowerCase()));return g}};if(!d.support.getSetAttribute)P=d.valHooks.button={get:function(a,d){var g;return(g=a.getAttributeNode(d))&&g.nodeValue!==""?g.nodeValue:b},set:function(a,b,d){var c=a.getAttributeNode(d);c||(c=p.createAttribute(d),a.setAttributeNode(c));return c.nodeValue=b+""}},d.each(["width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{set:function(a,k){if(k==="")return a.setAttribute(b,"auto"),k}})});d.support.hrefNormalized||d.each(["href",
"src","width","height"],function(a,j){d.attrHooks[j]=d.extend(d.attrHooks[j],{get:function(a){a=a.getAttribute(j,2);return a===null?b:a}})});if(!d.support.style)d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===
null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,b){if(d.isArray(b))return a.checked=d.inArray(d(a).val(),b)>=0}})});var ha=/\.(.*)$/,na=/^(?:textarea|input|select)$/i,Ta=/\./g,Ua=/ /g,gb=/[^\w\s.|`]/g,hb=function(a){return a.replace(gb,"\\$&")};d.event={add:function(a,j,g,c){if(!(a.nodeType===3||a.nodeType===8)){if(g===false)g=i;else if(!g)return;var e,f;if(g.handler)e=g,g=e.handler;if(!g.guid)g.guid=d.guid++;if(f=d._data(a)){var h=
f.events,n=f.handle;if(!h)f.events=h={};if(!n)f.handle=n=function(a){return typeof d!=="undefined"&&(!a||d.event.triggered!==a.type)?d.event.handle.apply(n.elem,arguments):b};n.elem=a;for(var j=j.split(" "),p,o=0,l;p=j[o++];){f=e?d.extend({},e):{handler:g,data:c};p.indexOf(".")>-1?(l=p.split("."),p=l.shift(),f.namespace=l.slice(0).sort().join(".")):(l=[],f.namespace="");f.type=p;if(!f.guid)f.guid=g.guid;var m=h[p],r=d.event.special[p]||{};if(!m&&(m=h[p]=[],!r.setup||r.setup.call(a,c,l,n)===false))a.addEventListener?
a.addEventListener(p,n,false):a.attachEvent&&a.attachEvent("on"+p,n);if(r.add&&(r.add.call(a,f),!f.handler.guid))f.handler.guid=g.guid;m.push(f);d.event.global[p]=true}a=null}}},global:{},remove:function(a,j,g,c){if(!(a.nodeType===3||a.nodeType===8)){g===false&&(g=i);var e,f,h=0,n,p,l,o,m,r,s=d.hasData(a)&&d._data(a),C=s&&s.events;if(s&&C){if(j&&j.type)g=j.handler,j=j.type;if(!j||typeof j==="string"&&j.charAt(0)===".")for(e in j=j||"",C)d.event.remove(a,e+j);else{for(j=j.split(" ");e=j[h++];)if(o=
e,n=e.indexOf(".")<0,p=[],n||(p=e.split("."),e=p.shift(),l=RegExp("(^|\\.)"+d.map(p.slice(0).sort(),hb).join("\\.(?:.*\\.)?")+"(\\.|$)")),m=C[e])if(g){o=d.event.special[e]||{};for(f=c||0;f<m.length;f++)if(r=m[f],g.guid===r.guid){if(n||l.test(r.namespace))c==null&&m.splice(f--,1),o.remove&&o.remove.call(a,r);if(c!=null)break}if(m.length===0||c!=null&&m.length===1)(!o.teardown||o.teardown.call(a,p)===false)&&d.removeEvent(a,e,s.handle),delete C[e]}else for(f=0;f<m.length;f++)if(r=m[f],n||l.test(r.namespace))d.event.remove(a,
o,r.handler,f),m.splice(f--,1);if(d.isEmptyObject(C)){if(j=s.handle)j.elem=null;delete s.events;delete s.handle;d.isEmptyObject(s)&&d.removeData(a,b,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(k,j,g,c){var e=k.type||k,f=[],h;e.indexOf("!")>=0&&(e=e.slice(0,-1),h=true);e.indexOf(".")>=0&&(f=e.split("."),e=f.shift(),f.sort());if(g&&!d.event.customEvent[e]||d.event.global[e]){k=typeof k==="object"?k[d.expando]?k:new d.Event(e,k):new d.Event(e);k.type=e;k.exclusive=
h;k.namespace=f.join(".");k.namespace_re=RegExp("(^|\\.)"+f.join("\\.(?:.*\\.)?")+"(\\.|$)");if(c||!g)k.preventDefault(),k.stopPropagation();if(g){if(!(g.nodeType===3||g.nodeType===8)){k.result=b;k.target=g;j=j!=null?d.makeArray(j):[];j.unshift(k);f=g;c=e.indexOf(":")<0?"on"+e:"";do{h=d._data(f,"handle");k.currentTarget=f;h&&h.apply(f,j);if(c&&d.acceptData(f)&&f[c]&&f[c].apply(f,j)===false)k.result=false,k.preventDefault();f=f.parentNode||f.ownerDocument||f===k.target.ownerDocument&&a}while(f&&!k.isPropagationStopped());
if(!k.isDefaultPrevented()){var i,f=d.event.special[e]||{};if((!f._default||f._default.call(g.ownerDocument,k)===false)&&!(e==="click"&&d.nodeName(g,"a"))&&d.acceptData(g)){try{if(c&&g[e])(i=g[c])&&(g[c]=null),d.event.triggered=e,g[e]()}catch(n){}i&&(g[c]=i);d.event.triggered=b}}return k.result}}else d.each(d.cache,function(){var a=this[d.expando];a&&a.events&&a.events[e]&&d.event.trigger(k,j,a.handle.elem)})}},handle:function(k){var k=d.event.fix(k||a.event),c=((d._data(this,"events")||{})[k.type]||
[]).slice(0),g=!k.exclusive&&!k.namespace,e=Array.prototype.slice.call(arguments,0);e[0]=k;k.currentTarget=this;for(var f=0,h=c.length;f<h;f++){var i=c[f];if(g||k.namespace_re.test(i.namespace)){k.handler=i.handler;k.data=i.data;k.handleObj=i;i=i.handler.apply(this,e);if(i!==b)k.result=i,i===false&&(k.preventDefault(),k.stopPropagation());if(k.isImmediatePropagationStopped())break}}return k.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[d.expando])return a;for(var c=a,a=d.Event(c),g=this.props.length,e;g;)e=this.props[--g],a[e]=c[e];if(!a.target)a.target=a.srcElement||p;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null)g=a.target.ownerDocument||p,c=g.documentElement,g=g.body,a.pageX=a.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0),a.pageY=
a.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0);if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==b)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,l(a.origType,a.selector),d.extend({},a,{handler:m,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,
l(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,g){if(d.isWindow(this))this.onbeforeunload=g},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};d.removeEvent=p.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};d.Event=function(a,b){if(!this.preventDefault)return new d.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?h:i):this.type=a;b&&d.extend(this,b);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;if(a)a.stopPropagation&&a.stopPropagation(),a.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
h;this.stopPropagation()},isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i};var za=function(a){var b=a.relatedTarget,g=false,c=a.type;a.type=a.data;if(b!==this&&(b&&(g=d.contains(this,b)),!g))d.event.handle.apply(this,arguments),a.type=c},Aa=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={setup:function(g){d.event.add(this,b,g&&g.selector?Aa:za,a)},teardown:function(a){d.event.remove(this,
b,a&&a.selector?Aa:za)}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;else d.event.add(this,"click.specialSubmit",function(a){var b=a.target,g=d.nodeName(b,"input")||d.nodeName(b,"button")?b.type:"";(g==="submit"||g==="image")&&d(b).closest("form").length&&n("submit",this,arguments)}),d.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,g=d.nodeName(b,"input")||d.nodeName(b,"button")?b.type:"";(g==="text"||g==="password")&&
d(b).closest("form").length&&a.keyCode===13&&n("submit",this,arguments)})},teardown:function(){d.event.remove(this,".specialSubmit")}};if(!d.support.changeBubbles){var aa,Ba=function(a){var b=d.nodeName(a,"input")?a.type:"",g=a.value;if(b==="radio"||b==="checkbox")g=a.checked;else if(b==="select-multiple")g=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join("-"):"";else if(d.nodeName(a,"select"))g=a.selectedIndex;return g},ea=function(a,c){var g=a.target,e,f;if(na.test(g.nodeName)&&
!g.readOnly&&(e=d._data(g,"_change_data"),f=Ba(g),(a.type!=="focusout"||g.type!=="radio")&&d._data(g,"_change_data",f),!(e===b||f===e)))if(e!=null||f)a.type="change",a.liveFired=b,d.event.trigger(a,c,g)};d.event.special.change={filters:{focusout:ea,beforedeactivate:ea,click:function(a){var b=a.target,g=d.nodeName(b,"input")?b.type:"";(g==="radio"||g==="checkbox"||d.nodeName(b,"select"))&&ea.call(this,a)},keydown:function(a){var b=a.target,g=d.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!d.nodeName(b,
"textarea")||a.keyCode===32&&(g==="checkbox"||g==="radio")||g==="select-multiple")&&ea.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",Ba(a))}},setup:function(){if(this.type==="file")return false;for(var a in aa)d.event.add(this,a+".specialChange",aa[a]);return na.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return na.test(this.nodeName)}};aa=d.event.special.change.filters;aa.focus=aa.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",
blur:"focusout"},function(a,b){function g(a){var g=d.event.fix(a);g.type=b;g.originalEvent={};d.event.trigger(g,null,g.target);g.isDefaultPrevented()&&a.preventDefault()}var c=0;d.event.special[b]={setup:function(){c++===0&&p.addEventListener(a,g,true)},teardown:function(){--c===0&&p.removeEventListener(a,g,true)}}});d.each(["bind","one"],function(a,c){d.fn[c]=function(a,k,e){var f;if(typeof a==="object"){for(var h in a)this[c](h,k,a[h],e);return this}if(arguments.length===2||k===false)e=k,k=b;c===
"one"?(f=function(a){d(this).unbind(a,f);return e.apply(this,arguments)},f.guid=e.guid||d.guid++):f=e;if(a==="unload"&&c!=="one")this.one(a,k,e);else{h=0;for(var i=this.length;h<i;h++)d.event.add(this[h],a,f,k)}return this}});d.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else{c=0;for(var e=this.length;c<e;c++)d.event.remove(this[c],a,b)}return this},delegate:function(a,b,d,c){return this.live(b,d,c,a)},undelegate:function(a,b,d){return arguments.length===
0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return d.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,c=a.guid||d.guid++,e=0,f=function(c){var g=(d.data(this,"lastToggle"+a.guid)||0)%e;d.data(this,"lastToggle"+a.guid,g+1);c.preventDefault();return b[g].apply(this,arguments)||false};for(f.guid=c;e<b.length;)b[e++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});var oa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,k,e,f){var h=0,n,p,o=f||this.selector,m=f?this:d(this.context);if(typeof a==="object"&&!a.preventDefault){for(n in a)m[c](n,k,a[n],o);return this}if(c==="die"&&!a&&f&&f.charAt(0)===".")return m.unbind(f),this;if(k===false||d.isFunction(k))e=k||i,k=b;for(a=(a||"").split(" ");(f=a[h++])!=null;)if(n=ha.exec(f),p="",n&&(p=n[0],f=f.replace(ha,"")),f==="hover")a.push("mouseenter"+
p,"mouseleave"+p);else if(n=f,oa[f]?(a.push(oa[f]+p),f+=p):f=(oa[f]||f)+p,c==="live"){p=0;for(var r=m.length;p<r;p++)d.event.add(m[p],"live."+l(f,o),{data:k,selector:o,handler:e,origType:f,origHandler:e,preType:n})}else m.unbind("live."+l(f,o),e);return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){d.fn[b]=function(a,
d){d==null&&(d=a,a=null);return arguments.length>0?this.bind(b,a,d):this.trigger(b)};d.attrFn&&(d.attrFn[b]=true)});(function(){function a(b,d,c,k,g,j){for(var g=0,e=k.length;g<e;g++){var f=k[g];if(f){for(var q=false,f=f[b];f;){if(f.sizcache===c){q=k[f.sizset];break}if(f.nodeType===1&&!j)f.sizcache=c,f.sizset=g;if(f.nodeName.toLowerCase()===d){q=f;break}f=f[b]}k[g]=q}}}function c(a,b,d,k,g,j){for(var g=0,e=k.length;g<e;g++){var f=k[g];if(f){for(var q=false,f=f[a];f;){if(f.sizcache===d){q=k[f.sizset];
break}if(f.nodeType===1){if(!j)f.sizcache=d,f.sizset=g;if(typeof b!=="string"){if(f===b){q=true;break}}else if(l.filter(b,[f]).length>0){q=f;break}}f=f[a]}k[g]=q}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,h=false,i=true,n=/\\/g,o=/\W/;[0,0].sort(function(){i=false;return 0});var l=function(a,b,d,c){var d=d||[],k=b=b||p;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||
typeof a!=="string")return d;var j,e,q,h,i,t=true,n=l.isXML(b),o=[],O=a;do if(g.exec(""),j=g.exec(O))if(O=j[3],o.push(j[1]),j[2]){h=j[3];break}while(j);if(o.length>1&&r.exec(a))if(o.length===2&&m.relative[o[0]])e=y(o[0]+o[1],b);else for(e=m.relative[o[0]]?[b]:l(o.shift(),b);o.length;)a=o.shift(),m.relative[a]&&(a+=o.shift()),e=y(a,e);else if(!c&&o.length>1&&b.nodeType===9&&!n&&m.match.ID.test(o[0])&&!m.match.ID.test(o[o.length-1])&&(j=l.find(o.shift(),b,n),b=j.expr?l.filter(j.expr,j.set)[0]:j.set[0]),
b){j=c?{expr:o.pop(),set:u(c)}:l.find(o.pop(),o.length===1&&(o[0]==="~"||o[0]==="+")&&b.parentNode?b.parentNode:b,n);e=j.expr?l.filter(j.expr,j.set):j.set;for(o.length>0?q=u(e):t=false;o.length;)j=i=o.pop(),m.relative[i]?j=o.pop():i="",j==null&&(j=b),m.relative[i](q,j,n)}else q=[];q||(q=e);q||l.error(i||a);if(f.call(q)==="[object Array]")if(t)if(b&&b.nodeType===1)for(a=0;q[a]!=null;a++)q[a]&&(q[a]===true||q[a].nodeType===1&&l.contains(b,q[a]))&&d.push(e[a]);else for(a=0;q[a]!=null;a++)q[a]&&q[a].nodeType===
1&&d.push(e[a]);else d.push.apply(d,q);else u(q,d);h&&(l(h,k,d,c),l.uniqueSort(d));return d};l.uniqueSort=function(a){if(x&&(h=i,a.sort(x),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};l.matches=function(a,b){return l(a,null,null,b)};l.matchesSelector=function(a,b){return l(b,null,null,[a]).length>0};l.find=function(a,b,d){var c;if(!a)return[];for(var k=0,g=m.order.length;k<g;k++){var j,e=m.order[k];if(j=m.leftMatch[e].exec(a)){var f=j[1];j.splice(1,1);if(f.substr(f.length-
1)!=="\\"&&(j[1]=(j[1]||"").replace(n,""),c=m.find[e](j,b,d),c!=null)){a=a.replace(m.match[e],"");break}}}c||(c=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:c,expr:a}};l.filter=function(a,d,c,k){for(var g,j,e=a,f=[],q=d,h=d&&d[0]&&l.isXML(d[0]);a&&d.length;){for(var F in m.filter)if((g=m.leftMatch[F].exec(a))!=null&&g[2]){var i,t,n=m.filter[F];t=g[1];j=false;g.splice(1,1);if(t.substr(t.length-1)!=="\\"){q===f&&(f=[]);if(m.preFilter[F])if(g=m.preFilter[F](g,
q,c,f,k,h)){if(g===true)continue}else j=i=true;if(g)for(var o=0;(t=q[o])!=null;o++)if(t){i=n(t,g,o,q);var p=k^!!i;c&&i!=null?p?j=true:q[o]=false:p&&(f.push(t),j=true)}if(i!==b){c||(q=f);a=a.replace(m.match[F],"");if(!j)return[];break}}}if(a===e)if(j==null)l.error(a);else break;e=a}return q};l.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var m=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var d=typeof b==="string",c=d&&!o.test(b),d=d&&!c;c&&(b=b.toLowerCase());for(var c=0,k=a.length,g;c<k;c++)if(g=a[c]){for(;(g=g.previousSibling)&&g.nodeType!==1;);a[c]=d||g&&g.nodeName.toLowerCase()===b?g||false:g===b}d&&l.filter(b,a,true)},">":function(a,b){var d,c=typeof b==="string",g=0,k=a.length;if(c&&!o.test(b))for(b=b.toLowerCase();g<k;g++){if(d=a[g])d=d.parentNode,a[g]=d.nodeName.toLowerCase()===b?d:false}else{for(;g<
k;g++)(d=a[g])&&(a[g]=c?d.parentNode:d.parentNode===b);c&&l.filter(b,a,true)}},"":function(b,d,g){var f,h=e++,F=c;typeof d==="string"&&!o.test(d)&&(f=d=d.toLowerCase(),F=a);F("parentNode",d,h,b,f,g)},"~":function(b,d,g){var f,h=e++,F=c;typeof d==="string"&&!o.test(d)&&(f=d=d.toLowerCase(),F=a);F("previousSibling",d,h,b,f,g)}},find:{ID:function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!==
"undefined"){for(var d=[],c=b.getElementsByName(a[1]),g=0,k=c.length;g<k;g++)c[g].getAttribute("name")===a[1]&&d.push(c[g]);return d.length===0?null:d}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,c,g,k){a=" "+a[1].replace(n,"")+" ";if(k)return a;for(var k=0,j;(j=b[k])!=null;k++)j&&(g^(j.className&&(" "+j.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?d||c.push(j):d&&(b[k]=false));return false},ID:function(a){return a[1].replace(n,
"")},TAG:function(a){return a[1].replace(n,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||l.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&l.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,d,c,g,k){b=a[1]=a[1].replace(n,"");!k&&m.attrMap[b]&&(a[1]=m.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(n,"");a[2]==="~="&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,b,d,c,k){if(a[1]==="not")if((g.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=l(a[3],null,null,b);else return a=l.filter(a[3],b,d,1^k),d||c.push.apply(c,a),false;else if(m.match.POS.test(a[0])||m.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===
true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!l(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),d=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===d&&(b===d||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()===
"input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,d,c){return b===c.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,b,d,c){var g=b[1],k=m.filters[g];if(k)return k(a,d,b,c);else if(g==="contains")return(a.textContent||a.innerText||
l.getText([a])||"").indexOf(b[3])>=0;else if(g==="not"){b=b[3];d=0;for(c=b.length;d<c;d++)if(b[d]===a)return false;return true}else l.error(g)},CHILD:function(a,b){var d=b[1],c=a;switch(d){case "only":case "first":for(;c=c.previousSibling;)if(c.nodeType===1)return false;if(d==="first")return true;c=a;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return false;return true;case "nth":var d=b[2],g=b[3];if(d===1&&g===0)return true;var k=b[0],j=a.parentNode;if(j&&(j.sizcache!==k||!a.nodeIndex)){for(var e=
0,c=j.firstChild;c;c=c.nextSibling)if(c.nodeType===1)c.nodeIndex=++e;j.sizcache=k}c=a.nodeIndex-g;return d===0?c===0:c%d===0&&c/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var d=b[1],d=m.attrHandle[d]?m.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),c=d+"",g=b[2],k=b[4];return d==
null?g==="!=":g==="="?c===k:g==="*="?c.indexOf(k)>=0:g==="~="?(" "+c+" ").indexOf(k)>=0:!k?c&&d!==false:g==="!="?c!==k:g==="^="?c.indexOf(k)===0:g==="$="?c.substr(c.length-k.length)===k:g==="|="?c===k||c.substr(0,k.length+1)===k+"-":false},POS:function(a,b,d,c){var g=m.setFilters[b[2]];if(g)return g(a,d,b,c)}}},r=m.match.POS,s=function(a,b){return"\\"+(b-0+1)},C;for(C in m.match)m.match[C]=RegExp(m.match[C].source+/(?![^\[]*\])(?![^\(]*\))/.source),m.leftMatch[C]=RegExp(/(^(?:.|\r|\n)*?)/.source+
m.match[C].source.replace(/\\(\d+)/g,s));var u=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(p.documentElement.childNodes,0)}catch(v){u=function(a,b){var d=0,c=b||[];if(f.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var g=a.length;d<g;d++)c.push(a[d]);else for(;a[d];d++)c.push(a[d]);return c}}var x,w;p.documentElement.compareDocumentPosition?x=function(a,b){return a===b?(h=true,
0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(x=function(a,b){if(a===b)return h=true,0;else if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,c,g=[],k=[];d=a.parentNode;c=b.parentNode;var j=d;if(d===c)return w(a,b);else if(d){if(!c)return 1}else return-1;for(;j;)g.unshift(j),j=j.parentNode;for(j=c;j;)k.unshift(j),j=j.parentNode;d=g.length;c=k.length;for(j=0;j<d&&j<c;j++)if(g[j]!==k[j])return w(g[j],
k[j]);return j===d?w(a,k[j],-1):w(g[j],b,1)},w=function(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});l.getText=function(a){for(var b="",d,c=0;a[c];c++)d=a[c],d.nodeType===3||d.nodeType===4?b+=d.nodeValue:d.nodeType!==8&&(b+=l.getText(d.childNodes));return b};(function(){var a=p.createElement("div"),d="script"+(new Date).getTime(),c=p.documentElement;a.innerHTML="<a name='"+d+"'/>";c.insertBefore(a,c.firstChild);if(p.getElementById(d))m.find.ID=function(a,
d,c){if(typeof d.getElementById!=="undefined"&&!c)return(d=d.getElementById(a[1]))?d.id===a[1]||typeof d.getAttributeNode!=="undefined"&&d.getAttributeNode("id").nodeValue===a[1]?[d]:b:[]},m.filter.ID=function(a,b){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&d&&d.nodeValue===b};c.removeChild(a);c=a=null})();(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName("*").length>0)m.find.TAG=function(a,b){var d=
b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var c=[],g=0;d[g];g++)d[g].nodeType===1&&c.push(d[g]);d=c}return d};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")m.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();p.querySelectorAll&&function(){var a=l,b=p.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){l=function(b,
d,c,g){d=d||p;if(!g&&!l.isXML(d)){var k=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(k&&(d.nodeType===1||d.nodeType===9))if(k[1])return u(d.getElementsByTagName(b),c);else if(k[2]&&m.find.CLASS&&d.getElementsByClassName)return u(d.getElementsByClassName(k[2]),c);if(d.nodeType===9){if(b==="body"&&d.body)return u([d.body],c);else if(k&&k[3]){var j=d.getElementById(k[3]);if(j&&j.parentNode){if(j.id===k[3])return u([j],c)}else return u([],c)}try{return u(d.querySelectorAll(b),c)}catch(e){}}else if(d.nodeType===
1&&d.nodeName.toLowerCase()!=="object"){var k=d,f=(j=d.getAttribute("id"))||"__sizzle__",q=d.parentNode,h=/^\s*[+~]/.test(b);j?f=f.replace(/'/g,"\\$&"):d.setAttribute("id",f);if(h&&q)d=d.parentNode;try{if(!h||q)return u(d.querySelectorAll("[id='"+f+"'] "+b),c)}catch(F){}finally{j||k.removeAttribute("id")}}}return a(b,d,c,g)};for(var d in a)l[d]=a[d];b=null}}();(function(){var a=p.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(p.createElement("div"),
"div"),c=false;try{b.call(p.documentElement,"[test!='']:sizzle")}catch(g){c=true}l.matchesSelector=function(a,g){g=g.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!l.isXML(a))try{if(c||!m.match.PSEUDO.test(g)&&!/!=/.test(g)){var k=b.call(a,g);if(k||!d||a.document&&a.document.nodeType!==11)return k}}catch(j){}return l(g,null,null,[a]).length>0}}})();(function(){var a=p.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==
0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1))m.order.splice(1,0,"CLASS"),m.find.CLASS=function(a,b,d){if(typeof b.getElementsByClassName!=="undefined"&&!d)return b.getElementsByClassName(a[1])},a=null})();l.contains=p.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):true)}:p.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return false};l.isXML=function(a){return(a=(a?a.ownerDocument||
a:0).documentElement)?a.nodeName!=="HTML":false};var y=function(a,b){for(var d,c=[],g="",k=b.nodeType?[b]:b;d=m.match.PSEUDO.exec(a);)g+=d[0],a=a.replace(m.match.PSEUDO,"");a=m.relative[a]?a+"*":a;d=0;for(var j=k.length;d<j;d++)l(a,k[d],c);return l.filter(g,c)};d.find=l;d.expr=l.selectors;d.expr[":"]=d.expr.filters;d.unique=l.uniqueSort;d.text=l.getText;d.isXMLDoc=l.isXML;d.contains=l.contains})();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,Va=/^.[^:#\[\.,]*$/,lb=Array.prototype.slice,
Ca=d.expr.match.POS,mb={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var b=this,c,e;if(typeof a!=="string")return d(a).filter(function(){for(c=0,e=b.length;c<e;c++)if(d.contains(b[c],this))return true});var f=this.pushStack("","find",a),h,i,l;for(c=0,e=this.length;c<e;c++)if(h=f.length,d.find(a,this[c],f),c>0)for(i=h;i<f.length;i++)for(l=0;l<h;l++)if(f[l]===f[i]){f.splice(i--,1);break}return f},has:function(a){var b=d(a);return this.filter(function(){for(var a=0,
c=b.length;a<c;a++)if(d.contains(this,b[a]))return true})},not:function(a){return this.pushStack(o(this,a,false),"not",a)},filter:function(a){return this.pushStack(o(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],e,f,h=this[0];if(d.isArray(a)){var i,l={},m=1;if(h&&a.length){for(e=0,f=a.length;e<f;e++)i=a[e],l[i]||(l[i]=Ca.test(i)?d(i,b||this.context):i);for(;h&&h.ownerDocument&&h!==b;){for(i in l)e=
l[i],(e.jquery?e.index(h)>-1:d(h).is(e))&&c.push({selector:i,elem:h,level:m});h=h.parentNode;m++}}return c}i=Ca.test(a)||typeof a!=="string"?d(a,b||this.context):0;for(e=0,f=this.length;e<f;e++)for(h=this[e];h;)if(i?i.index(h)>-1:d.find.matchesSelector(h,a)){c.push(h);break}else if(h=h.parentNode,!h||!h.ownerDocument||h===b||h.nodeType===11)break;c=c.length>1?d.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a===
"string"?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?d(a,b):d.makeArray(a&&a.nodeType?[a]:a),e=d.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:d.unique(e))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},
parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},
contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(c,e){var f=d.map(this,b,c),h=lb.call(arguments);ib.test(a)||(e=c);e&&typeof e==="string"&&(f=d.filter(e,f));f=this.length>1&&!mb[a]?d.unique(f):f;if((this.length>1||kb.test(e))&&jb.test(a))f=f.reverse();return this.pushStack(f,a,h.join(","))}});d.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?d.find.matchesSelector(b[0],
a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,c,g){for(var e=[],a=a[c];a&&a.nodeType!==9&&(g===b||a.nodeType!==1||!d(a).is(g));)a.nodeType===1&&e.push(a),a=a[c];return e},nth:function(a,b,d){for(var b=b||1,c=0;a;a=a[d])if(a.nodeType===1&&++c===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var nb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ea=/<([\w:]+)/,
ob=/<tbody/i,pb=/<|&#?\w+;/,Fa=/<(?:script|object|embed|option|style)/i,Ga=/checked\s*(?:[^=]|=\s*.checked.)/i,qb=/\/(java|ecma)script/i,Wa=/^\s*<!(?:\[CDATA\[|\-\-)/,M={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};M.optgroup=
M.option;M.tbody=M.tfoot=M.colgroup=M.caption=M.thead;M.th=M.td;if(!d.support.htmlSerialize)M._default=[1,"div<div>","</div>"];d.fn.extend({text:function(a){return d.isFunction(a)?this.each(function(b){var c=d(this);c.text(a.call(this,b,c.text()))}):typeof a!=="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||p).createTextNode(a)):d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(b){d(this).wrapInner(a.call(this,b))}):this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||
d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,e;(e=this[c])!=null;c++)if(!a||d.filter(a,[e]).length)!b&&e.nodeType===1&&(d.cleanData(e.getElementsByTagName("*")),d.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);
return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&d.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(nb,""):null;else if(typeof a==="string"&&!Fa.test(a)&&(d.support.leadingWhitespace||!pa.test(a))&&!M[(Ea.exec(a)||["",""])[1].toLowerCase()]){a=
a.replace(Da,"<$1></$2>");try{for(var c=0,g=this.length;c<g;c++)if(this[c].nodeType===1)d.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a}catch(e){this.empty().append(a)}}else d.isFunction(a)?this.each(function(b){var c=d(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var c=d(this),e=c.html();c.replaceWith(a.call(this,b,e))});typeof a!=="string"&&(a=
d(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove();b?d(b).before(a):d(c).append(a)})}else return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,g){var e,f,h,i=a[0],l=[];if(!d.support.checkClone&&arguments.length===3&&typeof i==="string"&&Ga.test(i))return this.each(function(){d(this).domManip(a,c,g,true)});if(d.isFunction(i))return this.each(function(e){var f=
d(this);a[0]=i.call(this,e,c?f.html():b);f.domManip(a,c,g)});if(this[0]){e=i&&i.parentNode;e=d.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:d.buildFragment(a,this,l);h=e.fragment;if(f=h.childNodes.length===1?h=h.firstChild:h.firstChild){c=c&&d.nodeName(f,"tr");f=0;for(var m=this.length,n=m-1;f<m;f++)g.call(c?d.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],
e.cacheable||m>1&&f<n?d.clone(h,true,true):h)}l.length&&d.each(l,z)}return this}});d.buildFragment=function(a,b,c){var e,f,h,i;b&&b[0]&&(i=b[0].ownerDocument||b[0]);i.createDocumentFragment||(i=p);if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&i===p&&a[0].charAt(0)==="<"&&!Fa.test(a[0])&&(d.support.checkClone||!Ga.test(a[0])))f=true,(h=d.fragments[a[0]])&&h!==1&&(e=h);e||(e=i.createDocumentFragment(),d.clean(a,i,e,c));f&&(d.fragments[a[0]]=h?e:1);return{fragment:e,cacheable:f}};d.fragments=
{};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(c){var e=[],c=d(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&c.length===1)return c[b](this[0]),this;else{for(var f=0,h=c.length;f<h;f++){var i=(f>0?this.clone(true):this).get();d(c[f])[b](i);e=e.concat(i)}return this.pushStack(e,a,c.selector)}}});d.extend({clone:function(a,b,c){var e=a.cloneNode(true),f,h,i;
if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){u(a,e);f=s(a);h=s(e);for(i=0;f[i];++i)h[i]&&u(f[i],h[i])}if(b&&(r(a,e),c)){f=s(a);h=s(e);for(i=0;f[i];++i)r(f[i],h[i])}return e},clean:function(a,b,c,e){b=b||p;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||p);for(var f=[],h,i=0,l;(l=a[i])!=null;i++)if(typeof l==="number"&&(l+=""),l){if(typeof l==="string")if(pb.test(l)){l=l.replace(Da,"<$1></$2>");h=(Ea.exec(l)||
["",""])[1].toLowerCase();var m=M[h]||M._default,n=m[0],o=b.createElement("div");for(o.innerHTML=m[1]+l+m[2];n--;)o=o.lastChild;if(!d.support.tbody){n=ob.test(l);m=h==="table"&&!n?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!n?o.childNodes:[];for(h=m.length-1;h>=0;--h)d.nodeName(m[h],"tbody")&&!m[h].childNodes.length&&m[h].parentNode.removeChild(m[h])}!d.support.leadingWhitespace&&pa.test(l)&&o.insertBefore(b.createTextNode(pa.exec(l)[0]),o.firstChild);l=o.childNodes}else l=b.createTextNode(l);
var r;if(!d.support.appendChecked)if(l[0]&&typeof(r=l.length)==="number")for(h=0;h<r;h++)w(l[h]);else w(l);l.nodeType?f.push(l):f=d.merge(f,l)}if(c){a=function(a){return!a.type||qb.test(a.type)};for(i=0;f[i];i++)e&&d.nodeName(f[i],"script")&&(!f[i].type||f[i].type.toLowerCase()==="text/javascript")?e.push(f[i].parentNode?f[i].parentNode.removeChild(f[i]):f[i]):(f[i].nodeType===1&&(b=d.grep(f[i].getElementsByTagName("script"),a),f.splice.apply(f,[i+1,0].concat(b))),c.appendChild(f[i]))}return f},cleanData:function(a){for(var b,
c,e=d.cache,f=d.expando,h=d.event.special,i=d.support.deleteExpando,l=0,m;(m=a[l])!=null;l++)if(!m.nodeName||!d.noData[m.nodeName.toLowerCase()])if(c=m[d.expando]){if((b=e[c]&&e[c][f])&&b.events){for(var o in b.events)h[o]?d.event.remove(m,o):d.removeEvent(m,o,b.handle);if(b.handle)b.handle.elem=null}i?delete m[d.expando]:m.removeAttribute&&m.removeAttribute(d.expando);delete e[c]}}});var qa=/alpha\([^)]*\)/i,rb=/opacity=([^)]*)/,sb=/([A-Z]|^ms)/g,Ha=/^-?\d+(?:px)?$/i,tb=/^-?\d/,ub=/^([\-+])=([\-+.\de]+)/,
vb={position:"absolute",visibility:"hidden",display:"block"},Xa=["Left","Right"],Ya=["Top","Bottom"],V,Ia,Ja;d.fn.css=function(a,c){return arguments.length===2&&c===b?this:d.access(this,a,c,true,function(a,c,e){return e!==b?d.style(a,c,e):d.css(a,c)})};d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=V(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},
cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,g,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var f,h=d.camelCase(c),i=a.style,l=d.cssHooks[h],c=d.cssProps[h]||h;if(g!==b){e=typeof g;if(e==="string"&&(f=ub.exec(g)))g=+(f[1]+1)*+f[2]+parseFloat(d.css(a,c)),e="number";if(!(g==null||e==="number"&&isNaN(g)))if(e==="number"&&!d.cssNumber[h]&&(g+="px"),!l||!("set"in l)||(g=l.set(a,g))!==b)try{i[c]=g}catch(m){}}else return l&&"get"in l&&(f=l.get(a,false,e))!==b?
f:i[c]}},css:function(a,c,g){var e,f,c=d.camelCase(c);f=d.cssHooks[c];c=d.cssProps[c]||c;c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,true,g))!==b)return e;else if(V)return V(a,c)},swap:function(a,b,d){var c={},e;for(e in b)c[e]=a.style[e],a.style[e]=b[e];d.call(a);for(e in b)a.style[e]=c[e]}});d.curCSS=d.css;d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(a,c,e){var f;if(c){if(a.offsetWidth!==0)return H(a,b,e);else d.swap(a,vb,function(){f=H(a,b,e)});return f}},set:function(a,
b){if(Ha.test(b)){if(b=parseFloat(b),b>=0)return b+"px"}else return b}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(a,b){return rb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,f=d.isNaN(b)?"":"alpha(opacity="+b*100+")",h=e&&e.filter||c.filter||"";c.zoom=1;if(b>=1&&d.trim(h.replace(qa,""))===""&&(c.removeAttribute("filter"),e&&!e.filter))return;c.filter=qa.test(h)?h.replace(qa,
f):h+" "+f}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,b){var c;d.swap(a,{display:"inline-block"},function(){c=b?V(a,"margin-right","marginRight"):a.style.marginRight});return c}}});p.defaultView&&p.defaultView.getComputedStyle&&(Ia=function(a,c){var e,f,c=c.replace(sb,"-$1").toLowerCase();if(!(f=a.ownerDocument.defaultView))return b;if(f=f.getComputedStyle(a,null))e=f.getPropertyValue(c),e===""&&!d.contains(a.ownerDocument.documentElement,a)&&(e=d.style(a,
c));return e});p.documentElement.currentStyle&&(Ja=function(a,b){var d,c=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;if(!Ha.test(c)&&tb.test(c)){d=f.left;if(e)a.runtimeStyle.left=a.currentStyle.left;f.left=b==="fontSize"?"1em":c||0;c=f.pixelLeft+"px";f.left=d;if(e)a.runtimeStyle.left=e}return c===""?"auto":c});V=Ia||Ja;if(d.expr&&d.expr.filters)d.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!d.support.reliableHiddenOffsets&&
(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)};var wb=/%20/g,Za=/\[\]$/,Ka=/\r?\n/g,xb=/#.*$/,yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,zb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ab=/^(?:GET|HEAD)$/,Bb=/^\/\//,La=/\?/,Cb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Db=/^(?:select|textarea)/i,sa=/\s+/,Eb=/([?&])_=[^&]*/,Ma=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
Na=d.fn.load,ia={},Oa={},S,T,Pa=["*/"]+["*"];try{S=E.href}catch(Kb){S=p.createElement("a"),S.href="",S=S.href}T=Ma.exec(S.toLowerCase())||[];d.fn.extend({load:function(a,c,e){if(typeof a!=="string"&&Na)return Na.apply(this,arguments);else if(!this.length)return this;var f=a.indexOf(" ");if(f>=0)var h=a.slice(f,a.length),a=a.slice(0,f);f="GET";c&&(d.isFunction(c)?(e=c,c=b):typeof c==="object"&&(c=d.param(c,d.ajaxSettings.traditional),f="POST"));var i=this;d.ajax({url:a,type:f,dataType:"html",data:c,
complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),i.html(h?d("<div>").append(c.replace(Cb,"")).find(h):c));e&&i.each(e,[c,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Db.test(this.nodeName)||zb.test(this.type))}).map(function(a,b){var c=d(this).val();return c==
null?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(Ka,"\r\n")}}):{name:b.name,value:c.replace(Ka,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(a){return this.bind(b,a)}});d.each(["get","post"],function(a,c){d[c]=function(a,e,f,k){d.isFunction(e)&&(k=k||f,f=e,e=b);return d.ajax({type:c,url:a,data:e,success:f,dataType:k})}});d.extend({getScript:function(a,c){return d.get(a,b,c,"script")},
getJSON:function(a,b,c){return d.get(a,b,c,"json")},ajaxSetup:function(a,b){b?I(a,d.ajaxSettings):(b=a,a=d.ajaxSettings);I(a,b);return a},ajaxSettings:{url:S,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(T[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pa},contents:{xml:/xml/,html:/html/,json:/json/},
responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:B(ia),ajaxTransport:B(Oa),ajax:function(a,c){function e(a,c,g,k){if(w!==2){w=2;x&&clearTimeout(x);u=b;s=k||"";D.readyState=a>0?4:0;var j,p,r,k=c;if(g){var C=f,v=D,A=C.contents,E=C.dataTypes,H=C.responseFields,B,z,G,J;for(z in H)z in g&&(v[H[z]]=g[z]);for(;E[0]==="*";)E.shift(),B===b&&(B=C.mimeType||v.getResponseHeader("content-type"));
if(B)for(z in A)if(A[z]&&A[z].test(B)){E.unshift(z);break}if(E[0]in g)G=E[0];else{for(z in g){if(!E[0]||C.converters[z+" "+E[0]]){G=z;break}J||(J=z)}G=G||J}G?(G!==E[0]&&E.unshift(G),g=g[G]):g=void 0}else g=b;if(a>=200&&a<300||a===304){if(f.ifModified){if(B=D.getResponseHeader("Last-Modified"))d.lastModified[n]=B;if(B=D.getResponseHeader("Etag"))d.etag[n]=B}if(a===304)k="notmodified",j=true;else try{B=f;B.dataFilter&&(g=B.dataFilter(g,B.dataType));var L=B.dataTypes;z={};var I,K,Q=L.length,ba,M=L[0],
U,R,N,P,S;for(I=1;I<Q;I++){if(I===1)for(K in B.converters)typeof K==="string"&&(z[K.toLowerCase()]=B.converters[K]);U=M;M=L[I];if(M==="*")M=U;else if(U!=="*"&&U!==M){R=U+" "+M;N=z[R]||z["* "+M];if(!N)for(P in S=b,z)if(ba=P.split(" "),ba[0]===U||ba[0]==="*")if(S=z[ba[1]+" "+M]){P=z[P];P===true?N=S:S===true&&(N=P);break}!N&&!S&&d.error("No conversion from "+R.replace(" "," to "));N!==true&&(g=N?N(g):S(P(g)))}}p=g;k="success";j=true}catch(T){k="parsererror",r=T}}else if(r=k,!k||a)k="error",a<0&&(a=0);
D.status=a;D.statusText=""+(c||k);j?l.resolveWith(h,[p,k,D]):l.rejectWith(h,[D,k,r]);D.statusCode(o);o=b;y&&i.trigger("ajax"+(j?"Success":"Error"),[D,f,j?p:r]);m.resolveWith(h,[D,k]);y&&(i.trigger("ajaxComplete",[D,f]),--d.active||d.event.trigger("ajaxStop"))}}typeof a==="object"&&(c=a,a=b);var c=c||{},f=d.ajaxSetup({},c),h=f.context||f,i=h!==f&&(h.nodeType||h instanceof d)?d(h):d.event,l=d.Deferred(),m=d._Deferred(),o=f.statusCode||{},n,p={},r={},s,C,u,x,v,w=0,y,A,D={readyState:0,setRequestHeader:function(a,
b){if(!w){var c=a.toLowerCase(),a=r[c]=r[c]||a;p[a]=b}return this},getAllResponseHeaders:function(){return w===2?s:null},getResponseHeader:function(a){var c;if(w===2){if(!C)for(C={};c=yb.exec(s);)C[c[1].toLowerCase()]=c[2];c=C[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){if(!w)f.mimeType=a;return this},abort:function(a){a=a||"abort";u&&u.abort(a);e(0,a);return this}};l.promise(D);D.success=D.done;D.error=D.fail;D.complete=m.done;D.statusCode=function(a){if(a){var b;if(w<2)for(b in a)o[b]=
[o[b],a[b]];else b=a[D.status],D.then(b,b)}return this};f.url=((a||f.url)+"").replace(xb,"").replace(Bb,T[1]+"//");f.dataTypes=d.trim(f.dataType||"*").toLowerCase().split(sa);if(f.crossDomain==null)v=Ma.exec(f.url.toLowerCase()),f.crossDomain=!(!v||!(v[1]!=T[1]||v[2]!=T[2]||(v[3]||(v[1]==="http:"?80:443))!=(T[3]||(T[1]==="http:"?80:443))));if(f.data&&f.processData&&typeof f.data!=="string")f.data=d.param(f.data,f.traditional);G(ia,f,c,D);if(w===2)return false;y=f.global;f.type=f.type.toUpperCase();
f.hasContent=!Ab.test(f.type);y&&d.active++===0&&d.event.trigger("ajaxStart");if(!f.hasContent&&(f.data&&(f.url+=(La.test(f.url)?"&":"?")+f.data,delete f.data),n=f.url,f.cache===false)){v=d.now();var E=f.url.replace(Eb,"$1_="+v);f.url=E+(E===f.url?(La.test(f.url)?"&":"?")+"_="+v:"")}(f.data&&f.hasContent&&f.contentType!==false||c.contentType)&&D.setRequestHeader("Content-Type",f.contentType);f.ifModified&&(n=n||f.url,d.lastModified[n]&&D.setRequestHeader("If-Modified-Since",d.lastModified[n]),d.etag[n]&&
D.setRequestHeader("If-None-Match",d.etag[n]));D.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+Pa+"; q=0.01":""):f.accepts["*"]);for(A in f.headers)D.setRequestHeader(A,f.headers[A]);if(f.beforeSend&&(f.beforeSend.call(h,D,f)===false||w===2))return D.abort(),false;for(A in{success:1,error:1,complete:1})D[A](f[A]);if(u=G(Oa,f,c,D)){D.readyState=1;y&&i.trigger("ajaxSend",[D,f]);f.async&&f.timeout>0&&(x=setTimeout(function(){D.abort("timeout")},
f.timeout));try{w=1,u.send(p,e)}catch(H){w<2?e(-1,H):d.error(H)}}else e(-1,"No Transport");return D},param:function(a,c){var e=[],f=function(a,b){b=d.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b)c=d.ajaxSettings.traditional;if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){f(this.name,this.value)});else for(var h in a)J(h,a[h],c,f);return e.join("&").replace(wb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Fb=d.now(),fa=/(\=)\?(&|$)|\?\?/i;
d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+Fb++}});d.ajaxPrefilter("json jsonp",function(b,c,e){c=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(fa.test(b.url)||c&&fa.test(b.data))){var f,h=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],l=b.url,m=b.data,o="$1"+h+"$2";b.jsonp!==false&&(l=l.replace(fa,o),b.url===l&&(c&&(m=m.replace(fa,o)),b.data===m&&
(l+=(/\?/.test(l)?"&":"?")+b.jsonp+"="+h)));b.url=l;b.data=m;a[h]=function(a){f=[a]};e.always(function(){a[h]=i;if(f&&d.isFunction(i))a[h](f[0])});b.converters["script json"]=function(){f||d.error(h+" was not called");return f[0]};b.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});
d.ajaxPrefilter("script",function(a){if(a.cache===b)a.cache=false;if(a.crossDomain)a.type="GET",a.global=false});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=p.head||p.getElementsByTagName("head")[0]||p.documentElement;return{send:function(e,f){c=p.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,
d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ra=a.ActiveXObject?function(){for(var a in Y)Y[a](0,1)}:false,Gb=0,Y;d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&K()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:K;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(c){if(!c.crossDomain||
d.support.cors){var e;return{send:function(f,h){var i=c.xhr(),l,m;c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(m in c.xhrFields)i[m]=c.xhrFields[m];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType);!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)i.setRequestHeader(m,f[m])}catch(o){}i.send(c.hasContent&&c.data||null);e=function(a,f){var g,m,o,n,p;try{if(e&&(f||i.readyState===
4)){e=b;if(l)i.onreadystatechange=d.noop,ra&&delete Y[l];if(f)i.readyState!==4&&i.abort();else{g=i.status;o=i.getAllResponseHeaders();n={};if((p=i.responseXML)&&p.documentElement)n.xml=p;n.text=i.responseText;try{m=i.statusText}catch(r){m=""}!g&&c.isLocal&&!c.crossDomain?g=n.text?200:404:g===1223&&(g=204)}}}catch(s){f||h(-1,s)}n&&h(g,m,n,o)};!c.async||i.readyState===4?e():(l=++Gb,ra&&(Y||(Y={},d(a).unload(ra)),Y[l]=e),i.onreadystatechange=e)},abort:function(){e&&e(0,1)}}}});var ja={},R,W,Hb=/^(?:toggle|show|hide)$/,
Ib=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ga,ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ca;d.fn.extend({show:function(a,b,c){if(a||a===0)return this.animate(y("show",3),a,b,c);else{for(var c=0,e=this.length;c<e;c++)if(a=this[c],a.style){b=a.style.display;if(!d._data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",L(a.nodeName))}for(c=0;c<
e;c++)if(a=this[c],a.style&&(b=a.style.display,b===""||b==="none"))a.style.display=d._data(a,"olddisplay")||"";return this}},hide:function(a,b,c){if(a||a===0)return this.animate(y("hide",3),a,b,c);else{a=0;for(b=this.length;a<b;a++)this[a].style&&(c=d.css(this[a],"display"),c!=="none"&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",c));for(a=0;a<b;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:d.fn.toggle,toggle:function(a,b,c){var e=typeof a==="boolean";d.isFunction(a)&&
d.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:d(this).is(":hidden");d(this)[b?"show":"hide"]()}):this.animate(y("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=d.speed(b,c,e);if(d.isEmptyObject(a))return this.each(f.complete,[false]);a=d.extend({},a);return this[f.queue===false?"each":"queue"](function(){var k;f.queue===false&&
d._mark(this);var b=d.extend({},f),c=this.nodeType===1,e=c&&d(this).is(":hidden"),g,h,j,i,l;b.animatedProperties={};for(j in a){g=d.camelCase(j);j!==g&&(a[g]=a[j],delete a[j]);h=a[g];d.isArray(h)?(b.animatedProperties[g]=h[1],k=a[g]=h[0],h=k):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);if(c&&(g==="height"||g==="width"))if(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],d.css(this,
"display")==="inline"&&d.css(this,"float")==="none")d.support.inlineBlockNeedsLayout?(h=L(this.nodeName),h==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"}if(b.overflow!=null)this.style.overflow="hidden";for(j in a)if(c=new d.fx(this,b,j),h=a[j],Hb.test(h))c[h==="toggle"?e?"show":"hide":h]();else g=Ib.exec(h),i=c.cur(),g?(h=parseFloat(g[2]),l=g[3]||(d.cssNumber[j]?"":"px"),l!=="px"&&(d.style(this,j,(h||1)+l),i*=(h||1)/
c.cur(),d.style(this,j,i+l)),g[1]&&(h=(g[1]==="-="?-1:1)*h+i),c.custom(i,h,l)):c.custom(i,h,"");return true})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=d.timers,c=a.length;for(b||d._unmark(true,this);c--;)if(a[c].elem===this){if(b)a[c](true);a.splice(c,1)}});b||this.dequeue();return this}});d.each({slideDown:y("show",1),slideUp:y("hide",1),slideToggle:y("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,
c,d){return this.animate(b,a,c,d)}});d.extend({speed:function(a,b,c){var e=a&&typeof a==="object"?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;e.old=e.complete;e.complete=function(a){d.isFunction(e.old)&&e.old.call(this);e.queue!==false?d.dequeue(this):a!==false&&d._unmark(this)};return e},easing:{linear:function(a,
b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,this.prop);return isNaN(a=
parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function e(a){return f.step(a)}var f=this,h=d.fx;this.startTime=ca||x();this.start=a;this.end=b;this.unit=c||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&d.timers.push(e)&&!ga&&(ga=setInterval(h.tick,h.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());
d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=ca||x(),c=true,e=this.elem,f=this.options,h;if(a||b>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=true;for(h in f.animatedProperties)f.animatedProperties[h]!==true&&(c=false);if(c){f.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(a,b){e.style["overflow"+
b]=f.overflow[a]});f.hide&&d(e).hide();if(f.hide||f.show)for(var i in f.animatedProperties)d.style(e,i,f.orig[i]);f.complete.call(e)}return false}else f.duration==Infinity?this.now=b:(a=b-this.startTime,this.state=a/f.duration,this.pos=d.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return true}};d.extend(d.fx,{tick:function(){for(var a=d.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||d.fx.stop()},
interval:13,stop:function(){clearInterval(ga);ga=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length};var Jb=/^t(?:able|d|h)$/i,Qa=/^(?:body|html)$/i;
d.fn.offset="getBoundingClientRect"in p.documentElement?function(a){var b=this[0],c;if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!c||!d.contains(h,b))return c?{top:c.top,left:c.left}:{top:0,left:0};b=f.body;f=C(f);return{top:c.top+(f.pageYOffset||d.support.boxModel&&h.scrollTop||b.scrollTop)-(h.clientTop||
b.clientTop||0),left:c.left+(f.pageXOffset||d.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var c,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,i=f.body;c=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var l=b.offsetTop,m=b.offsetLeft;(b=
b.parentNode)&&b!==i&&b!==h;){if(d.offset.supportsFixedPosition&&c.position==="fixed")break;c=f?f.getComputedStyle(b,null):b.currentStyle;l-=b.scrollTop;m-=b.scrollLeft;if(b===e){l+=b.offsetTop;m+=b.offsetLeft;if(d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!Jb.test(b.nodeName)))l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0;e=b.offsetParent}d.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=
parseFloat(c.borderLeftWidth)||0)}if(c.position==="relative"||c.position==="static")l+=i.offsetTop,m+=i.offsetLeft;d.offset.supportsFixedPosition&&c.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}};d.offset={initialize:function(){var a=p.body,b=p.createElement("div"),c,e,f,h=parseFloat(d.css(a,"marginTop"))||0;d.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML=
"<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);c=b.firstChild;e=c.firstChild;f=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";
e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;d.offset.initialize();d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,"marginTop"))||0,c+=parseFloat(d.css(a,
"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=d.css(a,"position");if(e==="static")a.style.position="relative";var f=d(a),h=f.offset(),i=d.css(a,"top"),l=d.css(a,"left"),m={},o={};(e==="absolute"||e==="fixed")&&d.inArray("auto",[i,l])>-1?(o=f.position(),e=o.top,l=o.left):(e=parseFloat(i)||0,l=parseFloat(l)||0);d.isFunction(b)&&(b=b.call(a,c,h));if(b.top!=null)m.top=b.top-h.top+e;if(b.left!=null)m.left=b.left-h.left+l;"using"in b?b.using.call(a,m):f.css(m)}};d.fn.extend({position:function(){if(!this[0])return null;
var a=this[0],b=this.offsetParent(),c=this.offset(),e=Qa.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,"marginTop"))||0;c.left-=parseFloat(d.css(a,"marginLeft"))||0;e.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||p.body;a&&!Qa.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});
d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var f,h;if(c===b){f=this[0];return!f?null:(h=C(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:f[e]}return this.each(function(){(h=C(this))?h.scrollTo(!a?c:d(h).scrollLeft(),a?c:d(h).scrollTop()):this[e]=c})}});d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(d.css(a,
e,"padding")):null};d.fn["outer"+c]=function(a){var b=this[0];return b&&b.style?parseFloat(d.css(b,e,a?"margin":"border")):null};d.fn[e]=function(a){var f=this[0];if(!f)return a==null?null:this;if(d.isFunction(a))return this.each(function(b){var c=d(this);c[e](a.call(this,b,c[e]()))});if(d.isWindow(f)){var h=f.document.documentElement["client"+c],i=f.document.body;return f.document.compatMode==="CSS1Compat"&&h||i&&i["client"+c]||h}else return f.nodeType===9?Math.max(f.documentElement["client"+c],
f.body["scroll"+c],f.documentElement["scroll"+c],f.body["offset"+c],f.documentElement["offset"+c]):a===b?(f=d.css(f,e),h=parseFloat(f),d.isNaN(h)?f:h):this.css(e,typeof a==="string"?a:a+"px")}});a.jQuery=a.$=d})(window);function bind(a,b){return function(){b.apply(a,arguments)}}function extend(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}vec3.assign=function(a,b,c,e){a[0]=b;a[1]=typeof c==="number"?c:b;a[2]=typeof e==="number"?e:b;return a};vec3.zero=function(a){a[0]=a[1]=a[2]=0;return a};vec3.lengthSquared=function(a){var b=a[0],c=a[1],a=a[2];return b*b+c*c+a*a};vec3.angle=function(a,b){return Math.acos(this.dot(a,b)/this.length(a)/vec3.length(b))};
vec3.equal=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};var WebGLUtilities={loadShaderScript:function(a){var a=document.getElementById(a),b;if(a.type==="x-shader/x-fragment")b=this.createShader(this.FRAGMENT_SHADER);else if(a.type==="x-shader/x-vertex")b=this.createShader(this.VERTEX_SHADER);else return null;this.shaderSource(b,a.text);this.compileShader(b);return!this.getShaderParameter(b,this.COMPILE_STATUS)?(console.log("shader "+this.getShaderInfoLog(b)),null):b},linkShaderProgramm:function(a,b){var c=this.createProgram();this.attachShader(c,a);this.attachShader(c,
b);this.linkProgram(c);this.getProgramParameter(c,this.LINK_STATUS)||console.log("Unable to initialize the shader program.");return c},loadShader:function(a,b){var c=this.loadShaderScript(a),e=this.loadShaderScript(b);return this.linkShaderProgramm(c,e)},textureCount:0,loadTexture:function(a,b){var c=this.createTexture(),e=this;c.ID=this.textureCount++;c.image=new Image;c.image.onload=function(){e.textureImageLoaded(c);b&&b(e,c)};c.image.src=a;return c},textureImageLoaded:function(a){this.activeTexture(this["TEXTURE"+
a.ID]);this.bindTexture(this.TEXTURE_2D,a);this.pixelStorei(this.UNPACK_FLIP_Y_WEBGL,true);this.texImage2D(this.TEXTURE_2D,0,this.RGBA,this.RGBA,this.UNSIGNED_BYTE,a.image);this.texParameteri(this.TEXTURE_2D,this.TEXTURE_MAG_FILTER,this.LINEAR);this.texParameteri(this.TEXTURE_2D,this.TEXTURE_MIN_FILTER,this.LINEAR);this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_S,this.CLAMP_TO_EDGE);this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_T,this.CLAMP_TO_EDGE);this.bindTexture(this.TEXTURE_2D,null)},
passTexture:function(a,b){this.activeTexture(this["TEXTURE"+a.ID]);this.bindTexture(this.TEXTURE_2D,a);this.uniform1i(b,a.ID)},matrixStack:[],stackPosition:0,matrix:mat4.create(),pushMatrix:function(){var a=this.stackPosition,b=this.matrixStack,c=this.matrix;a<b.length?mat4.set(c,b[a]):b.push(mat4.create(c));this.stackPosition++},popMatrix:function(){var a=--this.stackPosition,b=this.matrixStack;if(!b.length)throw"error: popMatrix failed";mat4.set(b[a],this.matrix)},enableAlpha:function(){this.enable(this.BLEND);
this.blendFunc(this.SRC_ALPHA,this.ONE_MINUS_SRC_ALPHA)},disableAlpha:function(){this.disable(this.BLEND)}};var Cube=function(a){this.element=a;this.vertices=[];var b;for(b=0;b<24;b++)this.vertices.push(vec3.add(a.position,Cube.vertexVectors[b],vec3.create()))};
Cube.prototype={vector:vec3.create(),vector2:vec3.create(),vector3:vec3.create(),distanceToRay:function(a,b){var c=this.vector,e=this.vector2;vec3.subtract(this.element.position,a,c);vec3.scale(b,vec3.dot(b,c),e);vec3.subtract(c,e);return vec3.lengthSquared(c)},intersectsRay:function(a,b){var c,e,f,i=Cube.normalVectors,h,n=this.vertices,m=this.vector,l=this.vector2,o=this.vector3,r,u,s;for(c=0;c<6;c++)if(e=c*4,h=i[c],f=vec3.dot(h,n[e])-vec3.dot(h,a),f/=vec3.dot(h,b),f&&(vec3.add(vec3.scale(b,f,m),
a),vec3.subtract(m,n[e]),vec3.subtract(n[e+1],n[e],l),vec3.subtract(n[e+3],n[e],o),e=vec3.dot(l,l),f=vec3.dot(l,o),h=vec3.dot(l,m),r=vec3.dot(o,o),u=vec3.dot(o,m),s=1/(e*r-f*f),r=(r*h-f*u)*s,e=(e*u-f*h)*s,r>0&&e>0&&r<1&&e<1))return true;return false}};
extend(Cube,{vector:vec3.create(),draw:function(a,b,c,e,f,i){var h=e?2:0;Game.gameover&&e&&(h=c?3:1);f&&(h+=4);c=(120+h*96)*4;i!==1&&(vec3.assign(this.vector,i),mat4.scale(a.matrix,this.vector));a.uniformMatrix4fv(b.mvMatrixUniform,false,a.matrix);a.bindBuffer(a.ARRAY_BUFFER,this.attributeBuffer);a.vertexAttribPointer(b.positionAttribute,3,a.FLOAT,false,0,0);a.vertexAttribPointer(b.colorAttribute,4,a.FLOAT,false,0,c);a.vertexAttribPointer(b.texCoordAttribute,2,a.FLOAT,false,0,288);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
this.indexBuffer);a.drawElements(a.TRIANGLES,36,a.UNSIGNED_SHORT,0)},initBuffers:function(a){function b(a){var b=new Float32Array(96),c,e,f;for(c=0;c<24;c++)e=c*4,f=a[Math.floor(c/4)%3],b[e]=f[0],b[e+1]=f[1],b[e+2]=f[2],b[e+3]=f[3];return b}function c(a){return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255,1]}function e(a){var b=a.concat(),c=a.concat(),e,f;for(e=0;e<3;e++)f=a[e]/7,b[e]+=f,c[e]-=f;return[a,c,b]}var f,i,h;h=this.vertexVectors=[];var n=new Float32Array([1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,
1,1,1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,-1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1]);for(f=0;f<72;f++)n[f]/=2;for(f=0;f<24;f++)i=f*3,h.push(vec3.assign(vec3.create(),n[i],n[i+1],n[i+2]));h=this.normalVectors=[];var m=new Float32Array([1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1]);for(f=0;f<6;f++)i=f*12,h.push(vec3.assign(vec3.create(),
m[i],m[i+1],m[i+2]));i=[[0.75,0.75,0.75,1],c(14701395),c(12565315),c(6014817)];for(f=0,h=i.length;f<h;f++)m=i[f].concat(),m[3]=0.85,i.push(m);for(f=0;f<i.length;f++)i[f]=e(i[f]);h=new Float32Array(48);for(f=0;f<48;f++)h[f]=0;m=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);this.attributeBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.attributeBuffer);a.bufferData(a.ARRAY_BUFFER,(120+i.length*
96)*4,a.STATIC_DRAW);a.bufferSubData(a.ARRAY_BUFFER,0,n);a.bufferSubData(a.ARRAY_BUFFER,288,h);for(f=0;f<i.length;f++)a.bufferSubData(a.ARRAY_BUFFER,(120+f*96)*4,b(i[f]));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,m,a.STATIC_DRAW)}});var Face={size:0.3,draw:function(a,b,c){c===28&&mat4.scale(a.matrix,vec3.assign(Cube.vector,1.5));a.uniformMatrix4fv(b.mvMatrixUniform,false,a.matrix);a.bindBuffer(a.ARRAY_BUFFER,this.attributeBuffer);a.vertexAttribPointer(b.positionAttribute,3,a.FLOAT,false,0,0);a.vertexAttribPointer(b.colorAttribute,4,a.FLOAT,false,0,48);a.vertexAttribPointer(b.texCoordAttribute,2,a.FLOAT,false,0,(28+c*8)*4);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.drawElements(a.TRIANGLE_FAN,4,a.UNSIGNED_SHORT,0)},
initBuffers:function(a){var b=this.size;this.vertices=new Float32Array([0,b,b,0,-b,b,0,-b,-b,0,b,-b]);var b=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),c=new Float32Array(232),e,f,i,h,n,m,l=0;for(n=3;n>=0;n--)for(m=0;m<8;m++)e=1-m*0.125,f=1-(m+1)*0.125,i=1-n*0.25,h=1-(n+1)*0.25,c[l*8]=c[l*8+6]=i,c[l*8+2]=c[l*8+4]=h,c[l*8+1]=c[l*8+3]=e,c[l*8+5]=c[l*8+7]=f,l++;this.attributeBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.attributeBuffer);a.bufferData(a.ARRAY_BUFFER,
1040,a.STATIC_DRAW);a.bufferSubData(a.ARRAY_BUFFER,0,this.vertices);a.bufferSubData(a.ARRAY_BUFFER,48,b);a.bufferSubData(a.ARRAY_BUFFER,112,c);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,3]),a.STATIC_DRAW)}};var Element=function(a,b){this.index=a;this.position=b;this.cube=new Cube(this);this.neighbors=[];this.reset()};
Element.prototype={reset:function(){this.maxValue=0;this.isMine=false;this.restart()},restart:function(){this.state="cube";this.value=this.maxValue;this.scale=1;this.rotation=0;this.highlight=false},addNeighbor:function(a,b){this.neighbors.push(a);b&&a.addNeighbor(this,false)},increaseValue:function(){this.value++;this.maxValue++},decreaseValue:function(){var a;this.value--;Settings.animations?(this.rotation=-Math.PI,a=new TWEEN.Tween(this),a.to({rotation:0},250),a.onComplete(this.valueDecreased),
a.start()):this.valueDecreased()},valueDecreased:function(){this.value===0&&this.state!=="cube"&&this.open()},setMine:function(){this.isMine=true;var a,b=this.neighbors;for(a=0;a<b.length;a++)b[a].increaseValue()},showMine:function(){if(this.state!=="flag")this.state="open";this.value=28},draw:function(a){var b=this.state,c=this.rotation,e=this.value;a.pushMatrix();mat4.translate(a.matrix,this.position);b==="number"||b==="open"&&this.isMine?(c&&(b=Camera.getRight(),c<-Math.PI/2?(mat4.rotate(a.matrix,
c+Math.PI,b),e++):mat4.rotate(a.matrix,c,b)),e&&Face.draw(a,Element.shader,e)):Cube.draw(a,Element.shader,this.isMine,b==="flag",this.highlight,this.scale);a.popMatrix()},openCube:function(){var a;if(this.state==="cube")this.state="opening",Settings.animations?(a=new TWEEN.Tween(this),a.to({scale:0},150),a.onUpdate(function(){Grid.redraw=true}),a.onComplete(function(){this.scale=1;this.openCubeNow()}),a.start()):this.openCubeNow()},openCubeNow:function(){if(this.state==="opening")if(this.isMine)return this.state=
"cube",Game.over();else this.open()},open:function(){if(this.state!=="open")this.state==="opening"&&Grid.cubeCount--,this.value?this.state="number":(this.state="open",BSPTree.remove(this),this.openNeighbors(),Camera.recenter=true)},openMine:function(){var a;if(this.state==="cube")Settings.animations?(this.state="flag",a=new TWEEN.Tween(this),a.to({scale:0},200),a.onUpdate(function(){Grid.redraw=true}),a.onComplete(function(){this.scale=1;this.state="opening";this.openMineNow()}),a.start()):(this.state=
"opening",this.openMineNow())},openMineNow:function(){var a,b;if(this.state==="opening")if(this.isMine){this.open();b=this.neighbors;for(a=0;a<b.length;a++)b[a].decreaseValue();Grid.minesLeft--}else this.state="cube",Game.over()},openNeighbors:function(){var a=0,b=this.neighbors;do b[a].openCube();while(++a<b.length)},flag:function(){if(this.state==="cube")this.state="flag",Grid.minesLeft--;else if(this.state==="flag")this.state="cube",Grid.minesLeft++},remove:function(a){if(this.index===a.index)return 0;
else throw console.log("wtf"),"wtf";},count:function(){return 1},getCenter:function(a,b){var c,e=this.position;for(c=0;c<3;c++)a[c]=e[c]>a[c]?e[c]:a[c],b[c]=e[c]<b[c]?e[c]:b[c]},getVisionSize:function(a,b){return vec3.lengthSquared(vec3.subtract(this.position,a,b))},solve:function(){if(this.state==="cube"&&!this.isMine)this.value?this.state="number":(BSPTree.remove(this),this.state="open"),Grid.cubeCount--},print:function(a){a+="    ";console.log(a+vec3.str(this.position))}};
extend(Element,{init:function(a){this.initShader(a);this.initTextures(a);Cube.initBuffers(a);Face.initBuffers(a);this.resize(a)},resize:function(a){a.uniformMatrix4fv(this.shader.pMatrixUniform,false,Camera.getPMatrix())},initShader:function(a){var b=a.loadShader("vertex-shader","fragment-shader");a.useProgram(b);b.mvMatrixUniform=a.getUniformLocation(b,"uMVMatrix");b.pMatrixUniform=a.getUniformLocation(b,"uPMatrix");b.textureUniform=a.getUniformLocation(b,"uTexture");b.positionAttribute=a.getAttribLocation(b,
"aPosition");a.enableVertexAttribArray(b.positionAttribute);b.colorAttribute=a.getAttribLocation(b,"aColor");a.enableVertexAttribArray(b.colorAttribute);b.texCoordAttribute=a.getAttribLocation(b,"aTextureCoord");a.enableVertexAttribArray(b.texCoordAttribute);this.shader=b},initTextures:function(a){this.texture=a.loadTexture("textures/mine3dtex.png",function(a,c){a.passTexture(c,Element.shader.textureUniform);Grid.redraw=true})}});var BSPNode=function(){this.direction=this.position=this.back=this.front=null};
BSPNode.prototype={init:function(a,b){var c,e,f,i;this.direction=b;this.position=this.getAveragePosition(a,b);c=[];for(e=[];a.length;)f=a.pop(),i=f.position,i[b]<this.position[b]?e.push(f):c.push(f);b=(b+1)%3;c.length?e.length?(this.front=c.length===1?c[0]:(new BSPNode).init(c,b),this.back=e.length===1?e[0]:(new BSPNode).init(e,b)):this.init(c,b):this.init(e,b);return this},getAveragePosition:function(a,b){var c=vec3.zero(vec3.create()),e=0,f;for(f=0;f<a.length;f++)vec3.add(c,a[f].position),e++;vec3.scale(c,
1/e);for(f=0;f<a.length;f++)if(e=a[f].position,c[b]+0.3>e[b]&&c[b]-0.3<e[b]){c[b]-=0.5;break}return c},draw:function(a,b){var c=this.direction;b[c]>this.position[c]?(this.back.draw(a,b),this.front.draw(a,b)):(this.front.draw(a,b),this.back.draw(a,b))},remove:function(a){var b=this.direction;if(a.position[b]>this.position[b]){if(this.front=this.front.remove(a),!this.front)return this.back}else if(this.back=this.back.remove(a),!this.back)return this.front;return this},count:function(){return this.front.count()+
this.back.count()},getCenter:function(a,b){this.front.getCenter(a,b);this.back.getCenter(a,b)},getVisionSize:function(a,b){var c=this.front.getVisionSize(a,b),e=this.back.getVisionSize(a,b);return c<e?e:c},solve:function(){this.front.solve();this.back.solve()},print:function(a){a+="    ";console.log(a+"front");this.front.print(a);console.log(a+"back");this.back.print(a)}};var BSPTree={root:null,highVector:vec3.create(),lowVector:vec3.create(),createPartition:function(a){if(a.length>1)this.root=(new BSPNode).init(a,0);else if(a.length===1)this.root=a[0]},draw:function(a,b){this.root&&this.root.draw(a,b)},remove:function(a){if(this.root)this.root=this.root.remove(a)},count:function(){return this.root?this.root.count():0},getCenterAndVisionSize:function(a){return this.root?(vec3.assign(this.highVector,-Infinity),vec3.assign(this.lowVector,Infinity),this.root.getCenter(this.highVector,
this.lowVector),vec3.add(this.highVector,this.lowVector,a),vec3.scale(a,0.5),Math.sqrt(this.root.getVisionSize(a,this.highVector))):0},solve:function(){this.root&&this.root.solve()},print:function(){console.log("root "+vec3.str(this.root.position));this.root.print("")}};var Level=function(a,b,c){this.name=a;this.dimensions=vec3.assign(vec3.create(),b);this.mines=c},Settings={levels:{easy:new Level("easy",5,10),medium:new Level("medium",7,33),hard:new Level("hard",10,99),custom:new Level("custom",10,99)},currentLevel:null,mode:"classic",animations:false,recenter:false,getKey:function(){return this.mode+this.currentLevel.name},setFromMenu:function(){this.currentLevel=Menu.level;this.mode=Menu.mode;this.animations=Menu.animations;this.recenter=Menu.recenter}};var Stats={storage:null,init:function(){this.storage=window.localStorage||{storage:{},setItem:function(a,b){this.storage[a]=b.toString()},getItem:function(a){return this.storage[a]},clear:function(){this.storage={}}}},read:function(a){return parseInt(this.storage.getItem(a))||0},write:function(a,b){this.storage.setItem(a,b)},clear:function(){this.storage.clear()},updateBestTime:function(a,b){var c=this.read(a);return!c||b<c?(this.write(a,b),true):false},updateStats:function(a,b){b&&this.write("gamesWon",
this.read("gamesWon")+1);this.write("gamesPlayed",this.read("gamesPlayed")+1);this.write("timePlayed",this.read("timePlayed")+a)}};var Menu={mode:null,level:null,animations:true,recenter:true,resize:false,pageNames:["about","settings","stats","instructions","controls"],levelNames:"classiceasy,sweepeasy,classicmedium,sweepmedium,classichard,sweephard".split(","),overlayCounter:1,init:function(){function a(a){$("#"+a+"Button").toggleClass("active");$("#"+a).toggle();Menu.updateOverlay($("#"+a+"Button").hasClass("active"))}$("#newButton").click(function(){Game.start();Menu.hide()});$("#menuButton").click(function(){Menu.toggle()});
$("#restartButton").click(function(){Game.restart();Menu.hide()});$("#shareButton").click(function(){a("share")});$("#feedbackButton").click(function(){a("feedback")});$("#updateButton").click(function(){a("update")});this.initMenu();this.initSettings();this.initStats()},initMenu:function(){function a(a){return function(){Menu.hidePages();$("#"+a+"Button").addClass("active");$("#"+a).show()}}var b=this.pageNames,c;for(c=0;c<b.length;c++)$("#"+b[c]+"Button").click(a(b[c]))},initSettings:function(){function a(a){if(!$("#"+
a).hasClass("active"))$("#classic").removeClass("active"),$("#sweep").removeClass("active"),$("#"+a).addClass("active"),Menu.mode=a,Menu.changedSettings(false)}function b(a){if(!$("#"+a).hasClass("active"))$("#easy").removeClass("active"),$("#medium").removeClass("active"),$("#hard").removeClass("active"),$("#"+a).addClass("active"),Menu.level=Settings.levels[a],Menu.changedSettings(true)}function c(a,b){b!==Menu[a]&&($("#"+a+"On").toggleClass("active"),$("#"+a+"Off").toggleClass("active"),Menu[a]=
b,Menu.changedSettings(false))}$("#classic").click(function(){a("classic")});$("#sweep").click(function(){a("sweep")});$("#playClassicButton").click(function(){a("classic");Settings.setFromMenu();Game.start(Menu.resize);Menu.showHUD();$("#apply").removeClass("active");$("#apply").hide()});$("#playSweepButton").click(function(){Menu.showHUD()});$("#easy").click(function(){b("easy")});$("#medium").click(function(){b("medium")});$("#hard").click(function(){b("hard")});$("#animationsOn").click(function(){c("animations",
true)});$("#animationsOff").click(function(){c("animations",false)});$("#recenterOn").click(function(){c("recenter",true)});$("#recenterOff").click(function(){c("recenter",false)});a("sweep");b("easy");$("#animationsOn").addClass("active");$("#recenterOn").addClass("active");$("#apply").click(function(){if($(this).hasClass("active"))Settings.setFromMenu(),Game.start(Menu.resize),Menu.hide(),$(this).removeClass("active"),$(this).hide(),Menu.resize=false});$("#apply").hide()},initStats:function(){function a(){$("#clearButton").toggleClass("active");
$("#clearPrompt").toggle()}$("#clearButton").click(a);$("#clearNowButton").click(function(){a();Stats.clear();Menu.loadStats()});Menu.loadStats()},loadStats:function(){var a=this.levelNames,b;for(b=0;b<a.length;b++)this.setBestTime(a[b]);this.updateStats()},setTime:function(a){$("#time").text(Math.floor(a*0.001))},setMines:function(a){$("#mines").text(a<0?0:a)},reset:function(a,b){this.setTime(a);this.setMines(b);$("#winner").hide();$("#loser").hide();$("#restartButton").hide()},show:function(){$("#menu").toggle(true);
$("#menuButton").addClass("active");this.updateOverlay(true)},hide:function(){$("#menu").toggle(false);$("#menuButton").removeClass("active");this.updateOverlay(false);this.hidePages()},toggle:function(a){if($("#menu").is(":visible")){if(this.hide(),a)$("#shareButton").removeClass("active"),$("#feedbackButton").removeClass("active"),$("#updateButton").removeClass("active"),$("#share").hide(),$("#feedback").hide(),$("#update").hide(),this.overlayCounter=1,this.updateOverlay(false)}else this.show()},
hidePages:function(){var a=this.levelNames,b;for(b=0;b<a.length;b++)$("#"+a[b]).removeClass("active");a=this.pageNames;for(b=0;b<a.length;b++)$("#"+a[b]).hide(),$("#"+a[b]+"Button").removeClass("active");$("#newButton").removeClass("active")},showWelcome:function(){$("#feedback").hide();$("#overlay").show();$("#welcomeWrapper").show()},showHUD:function(){$("#newButton").show();$("#menuButton").show();$("#shareButton").show();$("#feedbackButton").show();$("#updateButton").show();$("#timeDisplay").show();
$("#mineDisplay").show();$("#overlay").click(function(){Menu.hide()});$("#welcomeWrapper").hide();this.updateOverlay(false);EventHandler.init()},error:function(){$("#error").show()},lose:function(){$("#loser").show();$("#newButton").addClass("active")},win:function(){$("#winner").show();$("#newButton").addClass("active")},changedSettings:function(a){if(a)this.resize=true;$("#apply").addClass("active");$("#apply").show()},setBestTime:function(a){var b=Stats.read(a);$("#"+a).text(Math.floor(b*0.001)||
"-")},updateTime:function(a){this.setBestTime(a);Menu.show();$("#"+a).addClass("active");$("#statsButton").addClass("active");$("#stats").show()},updateStats:function(){$("#gamesWon").text(Stats.read("gamesWon")||0);$("#gamesPlayed").text(Stats.read("gamesPlayed")||0);$("#timePlayed").text(Math.floor(Stats.read("timePlayed")*0.001)||0)},updateOverlay:function(a){a?(this.overlayCounter++,this.overlayCounter===1&&($("#overlay").css("z-index",0),$("#overlay").fadeTo(500,0.7))):this.overlayCounter&&(this.overlayCounter--,
this.overlayCounter||$("#overlay").fadeTo(100,0,function(){$("#overlay").css("z-index",-1)}))}};var Grid={elements:[],cubeCount:0,spacing:0.1,minesLeft:0,minesSet:false,started:false,leftClicked:false,rightClicked:false,redraw:true,time:0,playTime:0,init:function(){this.elements=[];this.createGrid();this.setNeighbors();this.reset()},reset:function(){BSPTree.createPartition(this.elements.concat());this.cubeCount=this.elements.length;this.redraw=true;this.started=this.minesSet=false;this.minesLeft=Settings.currentLevel.mines;this.leftClicked=this.rightClicked=false;this.elementInRay=null;this.playTime=
0;Menu.reset(0,this.minesLeft)},start:function(){var a;for(a=0;a<this.elements.length;a++)this.elements[a].reset();this.reset()},restart:function(){var a;for(a=0;a<this.elements.length;a++)this.elements[a].restart();this.reset();this.minesSet=true},createGrid:function(){var a=0,b=this.elements,c,e,f,i=this.spacing,h=vec3.create(),n=Settings.currentLevel.dimensions;h[2]=(n[2]-1)*(1+i)/2;for(c=n[2]-1;c>=0;c--){h[1]=(n[1]-1)*(1+i)/2;for(e=n[1]-1;e>=0;e--){h[0]=(n[0]-1)*(1+i)/2;for(f=n[0]-1;f>=0;f--)b.push(new Element(a,
vec3.create(h))),a++,h[0]-=1+i;h[1]-=1+i}h[2]-=1+i}},setNeighbors:function(){var a=0,b=this.elements,c=true,e=false,f,i,h,n,m,l,o=Settings.currentLevel.dimensions,r;for(n=o[2]-1;n>=0;n--){n===0&&(e=true);f=true;for(m=o[1]-1;m>=0;m--){i=m===0?true:false;for(l=o[0]-1;l>=0;l--)h=l===0?true:false,r=b[a],h||(r.addNeighbor(b[a+1],true),i||(r.addNeighbor(b[a+1+o[0]],true),c||r.addNeighbor(b[a+1+o[0]-o[0]*o[1]],true)),f||(r.addNeighbor(b[a+1-o[0]],true),c||r.addNeighbor(b[a+1-o[0]-o[0]*o[1]],true)),c||r.addNeighbor(b[a+
1-o[0]*o[1]],true)),i||(r.addNeighbor(b[a+o[0]],true),c||r.addNeighbor(b[a+o[0]-o[0]*o[1]],true)),e||(r.addNeighbor(b[a+o[0]*o[1]],true),h||(r.addNeighbor(b[a+1+o[0]*o[1]],true),i||r.addNeighbor(b[a+1+o[0]+o[0]*o[1]],true),f||r.addNeighbor(b[a+1-o[0]+o[0]*o[1]],true)),i||r.addNeighbor(b[a+o[0]+o[0]*o[1]],true)),a++;f=false}c=false}},setMines:function(a){var b;b=a.neighbors;var c=Settings.currentLevel.dimensions,c=c[0]*c[1]*c[2],e=Settings.currentLevel.mines,f=[],i=this.elements;f.push(a.index);for(a=
0;a<b.length;a++)f.push(b[a].index);if(c-f.length<e)throw"more mines than left elements";a:for(;e;){b=Math.floor(Math.random()*c);for(a=0;a<f.length;a++)if(f[a]===b)continue a;a=i[b];a.isMine||(a.setMine(),e--)}this.minesSet=true},showMines:function(){var a,b,c=this.elements;for(a=0;a<c.length;a++)b=c[a],(b.state==="cube"||b.state==="flag")&&b.isMine&&b.showMine();this.redraw=true},update:function(){var a=this.elementInRay,b;if(a)if(this.leftClicked){if(!this.started)this.minesSet||(this.setMines(a),
a.openNeighbors()),this.time=(new Date).getTime(),this.started=true;a.openCube();this.redraw=true}else if(this.rightClicked&&this.started)Settings.mode==="classic"?a.flag():a.openMine(),Menu.setMines(this.minesLeft),this.redraw=true;this.leftClicked=this.rightClicked=false;if(this.started&&!Game.gameover)a=(new Date).getTime(),b=a-this.time,this.playTime+=b>500?100:b,this.time=a,Menu.setTime(this.playTime),(Settings.mode==="classic"&&this.cubeCount===Settings.currentLevel.mines||Settings.mode==="sweep"&&
this.cubeCount===this.minesLeft)&&Game.over(true);return this.redraw},draw:function(a){BSPTree.draw(a,Camera.getPosition());this.redraw=false},elementInRay:null,getCubeInRay:function(a){for(var b=Infinity,c=this.elements,e,f,i,h,n=null,m=vec3.create(),l=a.origin,o=a.direction,a=0;a<c.length;a++)if(e=c[a],e.state==="cube"||e.state==="flag")if(vec3.subtract(e.position,l,m),i=vec3.lengthSquared(m),i<b&&(f=e.cube,h=f.distanceToRay(l,o),!(h>0.75)&&(h<0.25||f.intersectsRay(l,o))))n=e,b=i;return this.setElementInRay(n)},
setElementInRay:function(a){var b=false;if(this.elementInRay)this.elementInRay.highlight=false,b=true;if(this.elementInRay=a)b=a.highlight=true;return b}};var Camera=new function(){function a(a,b){return vec3.assign(b,(a[0]-o*0.5)/u,(r*0.5-a[1])/u,0)}function b(b,c){var i=a(b,x),l=vec3.length(i);l>1?vec3.normalize(i):i[2]=Math.sqrt(1-l*l);vec3.scale(vec3.normalize(e,c),i[2]);vec3.add(c,vec3.scale(h,i[0],A));vec3.add(c,vec3.scale(f,i[1],A));return c}function c(a,b){mat4.multiplyVec4(b,a);a[0]/=a[3];a[1]/=a[3];a[2]/=a[3]}var e=vec3.create(),f=vec3.create(),i=vec3.create(),h=vec3.create(),n=vec3.create(),m=mat4.create(),l=mat4.create(),o=0,r=0,u=0,s=1,
v=vec3.create(),w=vec3.create(),z={origin:null,direction:null},H=new glMatrixArrayType(4),B=new glMatrixArrayType(4),G=false,I=false,J=false,K=false,x=vec3.create(),A=vec3.create(),y=mat4.create(),L=null;this.recenter=false;this.updateRotation=this.updateRay=true;this.init=function(){vec3.assign(e,100);vec3.assign(f,0,0,1);vec3.zero(i);vec3.zero(n);vec3.normalize(vec3.cross(f,e,h));vec3.normalize(vec3.cross(e,h,f));L=EventHandler.mouse;this.resize()};this.resize=function(){o=canvas.width;r=canvas.height;
mat4.perspective(45,o/r,0.1,1E3,m);u=(o+r)/4};this.update=function(){var a=G||I||J;if(K)return K=false,true;else if(!a&&this.recenter&&Settings.recenter)return this.recenterView(Settings.animations);J&&this.zoomCamera();I&&this.panCamera();if(G)this.rotateCamera(),this.updateRotation=true;G=I=J=false;return a};this.reset=function(){vec3.scale(e,1E3);vec3.zero(n);this.recenterView(false)};this.getPMatrix=function(){return m};this.getMvMatrix=function(){mat4.lookAt(this.getPosition(),vec3.add(i,n,A),
f,l);return l};this.getEye=function(){return e};this.getUp=function(){return f};this.getRight=function(){return h};this.getPosition=function(){return vec3.add(vec3.add(i,n,x),e)};this.startRotate=function(a){b(a,v)};this.rotate=function(){G=true};this.rotateCamera=function(){b(L,w);var a=vec3.angle(v,w),c;a&&(c=vec3.cross(w,v,x),mat4.identity(y),mat4.rotate(y,a,c),mat4.multiplyVec3(y,e),mat4.multiplyVec3(y,f),mat4.multiplyVec3(y,h),mat4.multiplyVec3(y,w),vec3.set(w,v))};this.startPan=function(b){a(b,
v)};this.pan=function(){I=true};this.panCamera=function(){var b=A;a(L,w);vec3.subtract(v,w,x);vec3.lengthSquared(x)&&(vec3.scale(x,vec3.length(e)*0.3),vec3.scale(h,x[0],b),vec3.add(b,vec3.scale(f,x[1],x)),vec3.add(n,b),vec3.set(w,v))};this.zoom=function(a){J=true;s*=a};this.zoomCamera=function(){var a=vec3.length(e);vec3.normalize(e);vec3.scale(e,a*s);a=vec3.lengthSquared(e);a>67500?vec3.assign(e,150):a<0.03&&vec3.assign(e,0.1);s=1};this.getMouseRay=function(){mat4.multiply(m,l,y);mat4.inverse(y);
H[0]=B[0]=L[0]/o*2-1;H[1]=B[1]=L[1]/r*-2+1;H[2]=0;B[2]=1;H[3]=B[3]=1;c(H,y);c(B,y);z.origin=H;z.direction=vec3.direction(B,H,B);this.updateRay=false;return z};this.updateFaceDirections=function(a,b,c){mat4.identity(y);mat4.rotate(y,Math.PI/2,e);vec3.add(f,h,x);vec3.normalize(x);vec3.scale(x,Math.sqrt(Face.size));b[0]=x[0];b[1]=x[1];b[2]=x[2];b[6]=-x[0];b[7]=-x[1];b[8]=-x[2];mat4.multiplyVec3(y,x);b[3]=x[0];b[4]=x[1];b[5]=x[2];b[9]=-x[0];b[10]=-x[1];b[11]=-x[2];a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferSubData(a.ARRAY_BUFFER,
0,b);this.updateRotation=false};this.recenterView=function(a){var b=BSPTree.getCenterAndVisionSize(x);b+=1*b+2;b/=vec3.length(e);this.recenter=false;return b>0&&b<0.99?(vec3.set(e,A),vec3.scale(A,b),vec3.lengthSquared(A)<64&&vec3.scale(vec3.normalize(A),8),a?(a=new TWEEN.Tween(i),b=new TWEEN.Tween(e),a.to({0:x[0],1:x[1],2:x[2]},400),b.to({0:A[0],1:A[1],2:A[2]},400),a.onUpdate(function(){K=true}),a.onComplete(function(){Camera.updateRay=true}),a.easing(TWEEN.Easing.Quadratic.EaseInOut),b.easing(TWEEN.Easing.Quadratic.EaseInOut),
a.start(),b.start()):(vec3.set(x,i),vec3.set(A,e)),K=true):false};return this};var EventHandler={mouse:vec3.create(),oldMouse:vec3.create(),vector:vec3.create(),state:"up",button:0,timeoutID:null,init:function(){canvas.addEventListener("mousemove",bind(this,this.onMouseMove),false);canvas.addEventListener("mousedown",bind(this,this.onMouseDown),false);canvas.addEventListener("mouseup",bind(this,this.onMouseUp),false);document.addEventListener("DOMMouseScroll",bind(this,this.onScroll),false);document.addEventListener("mousewheel",bind(this,this.onScroll),false);document.addEventListener("keydown",
bind(this,this.onKeyDown),false);document.addEventListener("keyup",bind(this,this.onKeyUp),false);window.addEventListener("resize",bind(this,this.onResize),false);canvas.addEventListener("contextmenu",function(a){a.preventDefault()},false);canvas.onselectstart=function(){return false};vec3.zero(this.oldMouse);vec3.zero(this.mouse)},getMouse:function(a,b){b[0]=a.clientX;b[1]=a.clientY;return b},onMouseDown:function(a){a.stopPropagation();this.state="down";this.button=a.button;a=this.getMouse(a,this.oldMouse);
this.button===0?Camera.startRotate(a):this.button===2&&Camera.startPan(a);this.timeoutID=setTimeout(bind(this,this.onClickTimeout),250)},onMouseUp:function(a){a.stopPropagation();this.state==="down"&&(this.onClick(a),clearTimeout(this.timeoutID));this.state="up";Camera.updateRay=true},onMouseMove:function(a){a.stopPropagation();a=this.getMouse(a,this.mouse);if(this.state==="down"&&(a=vec3.lengthSquared(vec3.subtract(a,this.oldMouse,this.vector)),a>25))this.state="drag",clearTimeout(this.timeoutID);
this.state==="drag"?this.button===0?Camera.rotate():this.button===2&&Camera.pan():Camera.updateRay=true},onClick:function(){if(!Game.gameover)if(this.button===0)Grid.leftClicked=true;else if(this.button===2)Grid.rightClicked=true},onClickTimeout:function(){if(this.state==="down")this.state="drag"},onScroll:function(a){a.stopPropagation();a=a.wheelDelta||a.detail*-5;Camera.zoom(1-a*2.0E-4)},isMouseKey:function(a){return this.isLeftMouseKey(a)||this.isRightMouseKey(a)},isLeftMouseKey:function(a){return a===
70||a===74},isRightMouseKey:function(a){return a===68||a===75},augmentEvent:function(a){a.clientX=this.mouse[0];a.clientY=this.mouse[1];a.button=this.isLeftMouseKey(a.keyCode)?0:2;return a},onKeyDown:function(a){if(this.state==="up"&&this.isMouseKey(a.keyCode))this.onMouseDown(this.augmentEvent(a))},onKeyUp:function(a){if(this.isMouseKey(a.keyCode))this.onMouseUp(this.augmentEvent(a));else a.keyCode===32?(Game.start(),Menu.hide()):a.keyCode===27&&Menu.toggle(true)},onResize:function(){canvas.width=
window.innerWidth;canvas.height=window.innerHeight;gl.viewport(0,0,canvas.width,canvas.height);Camera.resize();Element.resize(gl);Grid.redraw=true}};var Game={gameover:false,init:function(a){Stats.init();Menu.init();Settings.setFromMenu();Camera.init();Element.init(a);Grid.init();this.reset()},draw:function(a){var b=Grid.update();Camera.update()&&(mat4.set(Camera.getMvMatrix(),a.matrix),Camera.updateRotation&&Camera.updateFaceDirections(a,Face.vertices,Face.attributeBuffer),Grid.setElementInRay(null),b=true);Camera.updateRay&&Grid.getCubeInRay(Camera.getMouseRay())&&(b=true);Settings.animations&&TWEEN.getAll().length&&(TWEEN.update(),b=true);
b&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),Grid.draw(a))},reset:function(){this.gameover=false;TWEEN.removeAll();Camera.reset()},start:function(a){this.saveStats(Grid.playTime,false);a?Grid.init():Grid.start();this.reset()},restart:function(){this.saveStats(Grid.playTime,false);Grid.restart();this.reset()},over:function(a){var b=Settings.getKey();this.saveStats(Grid.playTime,a);this.gameover=true;Grid.showMines();a?(Stats.updateBestTime(b,Grid.playTime)&&Menu.updateTime(b,Grid.playTime),Menu.win()):
Menu.lose()},saveStats:function(a,b){!this.gameover&&Grid.started&&(Stats.updateStats(a,b),Menu.updateStats())}};var canvas,gl;function init(a){a.clearColor(1,1,1,1);a.viewport(0,0,canvas.width,canvas.height);a.enable(a.CULL_FACE);a.enableAlpha();Game.init(a)}function draw(){requestAnimationFrame(draw,canvas);Game.draw(gl)}
window.onload=function(){canvas=document.createElement("canvas");gl=null;window.WebGLRenderingContext&&(gl=canvas.getContext("experimental-webgl"));gl?(Menu.showWelcome(),document.querySelector("#container").appendChild(canvas),canvas.style.backgroundColor="black",canvas.width=window.innerWidth,canvas.height=window.innerHeight,extend(gl,WebGLUtilities),init(gl),draw()):Menu.error()};